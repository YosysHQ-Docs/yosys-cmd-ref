<!DOCTYPE html>
<html  lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

      <title>8. Optimizations</title>
    
          <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
          <link rel="stylesheet" href="_static/theme.css " type="text/css" />
          <link rel="stylesheet" href="_static/yosyshq.css" type="text/css" />
          <link rel="stylesheet" href="_static/custom.css" type="text/css" />
      
      <!-- sphinx script_files -->
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

      
      <!-- bundled in js (rollup iife) -->
      <!-- <script src="_static/theme-vendors.js"></script> -->
      <script src="_static/theme.js" defer></script>
    
      <link rel="shortcut icon" href="_static/favico.png"/>
  <link rel="index" title="Index" href="genindex.html" />
  <link rel="search" title="Search" href="search.html" />
  <link rel="next" title="9. Technology mapping" href="CHAPTER_Techmap.html" />
  <link rel="prev" title="7. The Verilog and AST frontends" href="CHAPTER_Verilog.html" /> 
  </head>

  <body>
    <div id="app">
    <div class="theme-container" :class="pageClasses"><navbar @toggle-sidebar="toggleSidebar">
  <router-link to="index.html" class="home-link">
    
      <img class="logo" src="_static/logo.png" alt="logo"/>
    
  </router-link>

  <div class="links">
    <navlinks class="can-hide">

  
    <div class="nav-item">
      <a href="index.html#yosys-manual"
         class="nav-link  router-link-active">
         Manual
      </a>
    </div>
  
    <div class="nav-item">
      <a href="index.html#yosys-manual"
         class="nav-link ">
         Appendix
      </a>
    </div>
  
    <div class="nav-item">
      <a href="cmd_ref.html#command-line-reference"
         class="nav-link ">
         Command reference
      </a>
    </div>
  



  
    <div class="nav-item">
      <a href="https://yosyshq.readthedocs.io"
        class="nav-link external">
          YosysHQ Docs <outboundlink></outboundlink>
      </a>
    </div>
  
    <div class="nav-item">
      <a href="https://blog.yosyshq.com"
        class="nav-link external">
          Blog <outboundlink></outboundlink>
      </a>
    </div>
  
    <div class="nav-item">
      <a href="https://www.yosyshq.com"
        class="nav-link external">
          Website <outboundlink></outboundlink>
      </a>
    </div>
  

    </navlinks>
  </div>
</navbar>

      
      <div class="sidebar-mask" @click="toggleSidebar(false)">
      </div>
        <sidebar @toggle-sidebar="toggleSidebar">
          
          <navlinks>
            

  
    <div class="nav-item">
      <a href="index.html#yosys-manual"
         class="nav-link  router-link-active">
         Manual
      </a>
    </div>
  
    <div class="nav-item">
      <a href="index.html#yosys-manual"
         class="nav-link ">
         Appendix
      </a>
    </div>
  
    <div class="nav-item">
      <a href="cmd_ref.html#command-line-reference"
         class="nav-link ">
         Command reference
      </a>
    </div>
  



  
    <div class="nav-item">
      <a href="https://yosyshq.readthedocs.io"
        class="nav-link external">
          YosysHQ Docs <outboundlink></outboundlink>
      </a>
    </div>
  
    <div class="nav-item">
      <a href="https://blog.yosyshq.com"
        class="nav-link external">
          Blog <outboundlink></outboundlink>
      </a>
    </div>
  
    <div class="nav-item">
      <a href="https://www.yosyshq.com"
        class="nav-link external">
          Website <outboundlink></outboundlink>
      </a>
    </div>
  

            
          </navlinks><div id="searchbox" class="searchbox" role="search">
  <div class="caption"><span class="caption-text">Quick search</span>
    <div class="searchformwrapper">
      <form class="search" action="search.html" method="get">
        <input type="text" name="q" />
        <input type="submit" value="Search" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div><div class="sidebar-links" role="navigation" aria-label="main navigation">
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="index.html#yosys-manual">Manual</a></span>
      </p>
      <ul class="current">
        
          <li class="toctree-l1 ">
            
              <a href="CHAPTER_Intro.html" class="reference internal ">Introduction</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="CHAPTER_Basics.html" class="reference internal ">Basic principles</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="CHAPTER_Approach.html" class="reference internal ">Approach</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="CHAPTER_Overview.html" class="reference internal ">Implementation overview</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="CHAPTER_CellLib.html" class="reference internal ">Internal cell library</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="CHAPTER_Prog.html" class="reference internal ">Programming Yosys extensions</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="CHAPTER_Verilog.html" class="reference internal ">The Verilog and AST frontends</a>
            

            
          </li>

        
          <li class="toctree-l1 current">
            
              <a href="#" class="reference internal current">Optimizations</a>
            

            
              <ul>
                
                  <li class="toctree-l2"><a href="#simple-optimizations" class="reference internal">Simple optimizations</a></li>
                
                  <li class="toctree-l2"><a href="#fsm-extraction-and-encoding" class="reference internal">FSM extraction and encoding</a></li>
                
                  <li class="toctree-l2"><a href="#logic-optimization" class="reference internal">Logic optimization</a></li>
                
              </ul>
            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="CHAPTER_Techmap.html" class="reference internal ">Technology mapping</a>
            

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="index.html#yosys-manual">Appendix</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 ">
            
              <a href="appendix/CHAPTER_Auxlibs.html" class="reference internal ">Auxiliary libraries</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="appendix/CHAPTER_Auxprogs.html" class="reference internal ">Auxiliary programs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="appendix/CHAPTER_TextRtlil.html" class="reference internal ">RTLIL text representation</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="appendix/APPNOTE_010_Verilog_to_BLIF.html" class="reference internal ">010: Converting Verilog to BLIF page</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="appendix/APPNOTE_011_Design_Investigation.html" class="reference internal ">011: Interactive design investigation page</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="appendix/APPNOTE_012_Verilog_to_BTOR.html" class="reference internal ">012: Converting Verilog to BTOR page</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="bib.html" class="reference internal ">Literature references</a>
            

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="cmd_ref.html#command-line-reference">Command reference</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 ">
            
              <a href="cmd/abc.html" class="reference internal ">abc - use ABC for technology mapping</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/abc9.html" class="reference internal ">abc9 - use ABC9 for technology mapping</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/abc9_exe.html" class="reference internal ">abc9_exe - use ABC9 for technology mapping</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/abc9_ops.html" class="reference internal ">abc9_ops - helper functions for ABC9</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/add.html" class="reference internal ">add - add objects to the design</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/aigmap.html" class="reference internal ">aigmap - map logic to and-inverter-graph circuit</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/alumacc.html" class="reference internal ">alumacc - extract ALU and MACC cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/anlogic_eqn.html" class="reference internal ">anlogic_eqn - Anlogic: Calculate equations for luts</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/anlogic_fixcarry.html" class="reference internal ">anlogic_fixcarry - Anlogic: fix carry chain</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/assertpmux.html" class="reference internal ">assertpmux - adds asserts for parallel muxes</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/async2sync.html" class="reference internal ">async2sync - convert async FF inputs to sync circuits</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/attrmap.html" class="reference internal ">attrmap - renaming attributes</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/attrmvcp.html" class="reference internal ">attrmvcp - move or copy attributes from wires to driving cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/autoname.html" class="reference internal ">autoname - automatically assign names to objects</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/blackbox.html" class="reference internal ">blackbox - convert modules into blackbox modules</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/bmuxmap.html" class="reference internal ">bmuxmap - transform $bmux cells to trees of $mux cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/bugpoint.html" class="reference internal ">bugpoint - minimize testcases</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/cd.html" class="reference internal ">cd - a shortcut for ‘select -module <name>’</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/check.html" class="reference internal ">check - check for obvious problems in the design</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/chformal.html" class="reference internal ">chformal - change formal constraints of the design</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/chparam.html" class="reference internal ">chparam - re-evaluate modules with new parameters</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/chtype.html" class="reference internal ">chtype - change type of cells in the design</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/clean.html" class="reference internal ">clean - remove unused cells and wires</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/clean_zerowidth.html" class="reference internal ">clean_zerowidth - clean zero-width connections from the design</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/clk2fflogic.html" class="reference internal ">clk2fflogic - convert clocked FFs to generic $ff cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/clkbufmap.html" class="reference internal ">clkbufmap - insert clock buffers on clock networks</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/connect.html" class="reference internal ">connect - create or remove connections</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/connect_rpc.html" class="reference internal ">connect_rpc - connect to RPC frontend</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/connwrappers.html" class="reference internal ">connwrappers - match width of input-output port pairs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/coolrunner2_fixup.html" class="reference internal ">coolrunner2_fixup - insert necessary buffer cells for CoolRunner-II architecture</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/coolrunner2_sop.html" class="reference internal ">coolrunner2_sop - break $sop cells into ANDTERM/ORTERM cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/copy.html" class="reference internal ">copy - copy modules in the design</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/cover.html" class="reference internal ">cover - print code coverage counters</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/cutpoint.html" class="reference internal ">cutpoint - adds formal cut points to the design</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/debug.html" class="reference internal ">debug - run command with debug log messages enabled</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/delete.html" class="reference internal ">delete - delete objects in the design</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/deminout.html" class="reference internal ">deminout - demote inout ports to input or output</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/demuxmap.html" class="reference internal ">demuxmap - transform $demux cells to $eq + $mux cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/design.html" class="reference internal ">design - save, restore and reset current design</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/dffinit.html" class="reference internal ">dffinit - set INIT param on FF cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/dfflegalize.html" class="reference internal ">dfflegalize - convert FFs to types supported by the target</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/dfflibmap.html" class="reference internal ">dfflibmap - technology mapping of flip-flops</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/dffunmap.html" class="reference internal ">dffunmap - unmap clock enable and synchronous reset from FFs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/dump.html" class="reference internal ">dump - print parts of the design in RTLIL format</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/echo.html" class="reference internal ">echo - turning echoing back of commands on and off</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/ecp5_gsr.html" class="reference internal ">ecp5_gsr - ECP5: handle GSR</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/edgetypes.html" class="reference internal ">edgetypes - list all types of edges in selection</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/efinix_fixcarry.html" class="reference internal ">efinix_fixcarry - Efinix: fix carry chain</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/equiv_add.html" class="reference internal ">equiv_add - add a $equiv cell</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/equiv_induct.html" class="reference internal ">equiv_induct - proving $equiv cells using temporal induction</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/equiv_make.html" class="reference internal ">equiv_make - prepare a circuit for equivalence checking</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/equiv_mark.html" class="reference internal ">equiv_mark - mark equivalence checking regions</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/equiv_miter.html" class="reference internal ">equiv_miter - extract miter from equiv circuit</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/equiv_opt.html" class="reference internal ">equiv_opt - prove equivalence for optimized circuit</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/equiv_purge.html" class="reference internal ">equiv_purge - purge equivalence checking module</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/equiv_remove.html" class="reference internal ">equiv_remove - remove $equiv cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/equiv_simple.html" class="reference internal ">equiv_simple - try proving simple $equiv instances</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/equiv_status.html" class="reference internal ">equiv_status - print status of equivalent checking module</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/equiv_struct.html" class="reference internal ">equiv_struct - structural equivalence checking</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/eval.html" class="reference internal ">eval - evaluate the circuit given an input</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/exec.html" class="reference internal ">exec - execute commands in the operating system shell</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/expose.html" class="reference internal ">expose - convert internal signals to module ports</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/extract.html" class="reference internal ">extract - find subcircuits and replace them with cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/extract_counter.html" class="reference internal ">extract_counter - Extract GreenPak4 counter cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/extract_fa.html" class="reference internal ">extract_fa - find and extract full/half adders</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/extract_reduce.html" class="reference internal ">extract_reduce - converts gate chains into $reduce_* cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/extractinv.html" class="reference internal ">extractinv - extract explicit inverter cells for invertible cell pins</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/flatten.html" class="reference internal ">flatten - flatten design</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/flowmap.html" class="reference internal ">flowmap - pack LUTs with FlowMap</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/fmcombine.html" class="reference internal ">fmcombine - combine two instances of a cell into one</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/fminit.html" class="reference internal ">fminit - set init values/sequences for formal</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/formalff.html" class="reference internal ">formalff - prepare FFs for formal</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/freduce.html" class="reference internal ">freduce - perform functional reduction</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/fsm.html" class="reference internal ">fsm - extract and optimize finite state machines</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/fsm_detect.html" class="reference internal ">fsm_detect - finding FSMs in design</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/fsm_expand.html" class="reference internal ">fsm_expand - expand FSM cells by merging logic into it</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/fsm_export.html" class="reference internal ">fsm_export - exporting FSMs to KISS2 files</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/fsm_extract.html" class="reference internal ">fsm_extract - extracting FSMs in design</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/fsm_info.html" class="reference internal ">fsm_info - print information on finite state machines</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/fsm_map.html" class="reference internal ">fsm_map - mapping FSMs to basic logic</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/fsm_opt.html" class="reference internal ">fsm_opt - optimize finite state machines</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/fsm_recode.html" class="reference internal ">fsm_recode - recoding finite state machines</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/fst2tb.html" class="reference internal ">fst2tb - generate testbench out of fst file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/gatemate_foldinv.html" class="reference internal ">gatemate_foldinv - fold inverters into Gatemate LUT trees</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/glift.html" class="reference internal ">glift - create GLIFT models and optimization problems</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/greenpak4_dffinv.html" class="reference internal ">greenpak4_dffinv - merge greenpak4 inverters and DFF/latches</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/help.html" class="reference internal ">help - display help messages</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/hierarchy.html" class="reference internal ">hierarchy - check, expand and clean up design hierarchy</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/hilomap.html" class="reference internal ">hilomap - technology mapping of constant hi- and/or lo-drivers</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/history.html" class="reference internal ">history - show last interactive commands</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/ice40_braminit.html" class="reference internal ">ice40_braminit - iCE40: perform SB_RAM40_4K initialization from file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/ice40_dsp.html" class="reference internal ">ice40_dsp - iCE40: map multipliers</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/ice40_opt.html" class="reference internal ">ice40_opt - iCE40: perform simple optimizations</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/ice40_wrapcarry.html" class="reference internal ">ice40_wrapcarry - iCE40: wrap carries</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/insbuf.html" class="reference internal ">insbuf - insert buffer cells for connected wires</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/iopadmap.html" class="reference internal ">iopadmap - technology mapping of i/o pads (or buffers)</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/jny.html" class="reference internal ">jny - write design and metadata</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/json.html" class="reference internal ">json - write design in JSON format</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/log.html" class="reference internal ">log - print text and log files</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/logger.html" class="reference internal ">logger - set logger properties</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/ls.html" class="reference internal ">ls - list modules or objects in modules</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/ltp.html" class="reference internal ">ltp - print longest topological path</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/lut2mux.html" class="reference internal ">lut2mux - convert $lut to $_MUX_</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/maccmap.html" class="reference internal ">maccmap - mapping macc cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/memory.html" class="reference internal ">memory - translate memories to basic cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/memory_bmux2rom.html" class="reference internal ">memory_bmux2rom - convert muxes to ROMs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/memory_bram.html" class="reference internal ">memory_bram - map memories to block rams</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/memory_collect.html" class="reference internal ">memory_collect - creating multi-port memory cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/memory_dff.html" class="reference internal ">memory_dff - merge input/output DFFs into memory read ports</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/memory_libmap.html" class="reference internal ">memory_libmap - map memories to cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/memory_map.html" class="reference internal ">memory_map - translate multiport memories to basic cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/memory_memx.html" class="reference internal ">memory_memx - emulate vlog sim behavior for mem ports</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/memory_narrow.html" class="reference internal ">memory_narrow - split up wide memory ports</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/memory_nordff.html" class="reference internal ">memory_nordff - extract read port FFs from memories</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/memory_share.html" class="reference internal ">memory_share - consolidate memory ports</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/memory_unpack.html" class="reference internal ">memory_unpack - unpack multi-port memory cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/miter.html" class="reference internal ">miter - automatically create a miter circuit</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/mutate.html" class="reference internal ">mutate - generate or apply design mutations</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/muxcover.html" class="reference internal ">muxcover - cover trees of MUX cells with wider MUXes</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/muxpack.html" class="reference internal ">muxpack - $mux/$pmux cascades to $pmux</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/nlutmap.html" class="reference internal ">nlutmap - map to LUTs of different sizes</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/onehot.html" class="reference internal ">onehot - optimize $eq cells for onehot signals</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt.html" class="reference internal ">opt - perform simple optimizations</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_clean.html" class="reference internal ">opt_clean - remove unused cells and wires</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_demorgan.html" class="reference internal ">opt_demorgan - Optimize reductions with DeMorgan equivalents</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_dff.html" class="reference internal ">opt_dff - perform DFF optimizations</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_expr.html" class="reference internal ">opt_expr - perform const folding and simple expression rewriting</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_ffinv.html" class="reference internal ">opt_ffinv - push inverters through FFs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_lut.html" class="reference internal ">opt_lut - optimize LUT cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_lut_ins.html" class="reference internal ">opt_lut_ins - discard unused LUT inputs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_mem.html" class="reference internal ">opt_mem - optimize memories</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_mem_feedback.html" class="reference internal ">opt_mem_feedback - convert memory read-to-write port feedback paths to write enables</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_mem_priority.html" class="reference internal ">opt_mem_priority - remove priority relations between write ports that can never collide</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_mem_widen.html" class="reference internal ">opt_mem_widen - optimize memories where all ports are wide</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_merge.html" class="reference internal ">opt_merge - consolidate identical cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_muxtree.html" class="reference internal ">opt_muxtree - eliminate dead trees in multiplexer trees</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_reduce.html" class="reference internal ">opt_reduce - simplify large MUXes and AND/OR gates</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_share.html" class="reference internal ">opt_share - merge mutually exclusive cells of the same type that share an input signal</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/paramap.html" class="reference internal ">paramap - renaming cell parameters</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/peepopt.html" class="reference internal ">peepopt - collection of peephole optimizers</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/plugin.html" class="reference internal ">plugin - load and list loaded plugins</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/pmux2shiftx.html" class="reference internal ">pmux2shiftx - transform $pmux cells to $shiftx cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/pmuxtree.html" class="reference internal ">pmuxtree - transform $pmux cells to trees of $mux cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/portlist.html" class="reference internal ">portlist - list (top-level) ports</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/prep.html" class="reference internal ">prep - generic synthesis script</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/printattrs.html" class="reference internal ">printattrs - print attributes of selected objects</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/proc.html" class="reference internal ">proc - translate processes to netlists</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/proc_arst.html" class="reference internal ">proc_arst - detect asynchronous resets</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/proc_clean.html" class="reference internal ">proc_clean - remove empty parts of processes</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/proc_dff.html" class="reference internal ">proc_dff - extract flip-flops from processes</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/proc_dlatch.html" class="reference internal ">proc_dlatch - extract latches from processes</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/proc_init.html" class="reference internal ">proc_init - convert initial block to init attributes</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/proc_memwr.html" class="reference internal ">proc_memwr - extract memory writes from processes</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/proc_mux.html" class="reference internal ">proc_mux - convert decision trees to multiplexers</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/proc_prune.html" class="reference internal ">proc_prune - remove redundant assignments</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/proc_rmdead.html" class="reference internal ">proc_rmdead - eliminate dead trees in decision trees</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/proc_rom.html" class="reference internal ">proc_rom - convert switches to ROMs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/qbfsat.html" class="reference internal ">qbfsat - solve a 2QBF-SAT problem in the circuit</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/qwp.html" class="reference internal ">qwp - quadratic wirelength placer</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/read.html" class="reference internal ">read - load HDL designs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/read_aiger.html" class="reference internal ">read_aiger - read AIGER file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/read_blif.html" class="reference internal ">read_blif - read BLIF file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/read_ilang.html" class="reference internal ">read_ilang - (deprecated) alias of read_rtlil</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/read_json.html" class="reference internal ">read_json - read JSON file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/read_liberty.html" class="reference internal ">read_liberty - read cells from liberty file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/read_rtlil.html" class="reference internal ">read_rtlil - read modules from RTLIL file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/read_verilog.html" class="reference internal ">read_verilog - read modules from Verilog file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/rename.html" class="reference internal ">rename - rename object in the design</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/rmports.html" class="reference internal ">rmports - remove module ports with no connections</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/sat.html" class="reference internal ">sat - solve a SAT problem in the circuit</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/scatter.html" class="reference internal ">scatter - add additional intermediate nets</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/scc.html" class="reference internal ">scc - detect strongly connected components (logic loops)</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/scratchpad.html" class="reference internal ">scratchpad - get/set values in the scratchpad</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/script.html" class="reference internal ">script - execute commands from file or wire</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/select.html" class="reference internal ">select - modify and view the list of selected objects</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/setattr.html" class="reference internal ">setattr - set/unset attributes on objects</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/setparam.html" class="reference internal ">setparam - set/unset parameters on objects</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/setundef.html" class="reference internal ">setundef - replace undef values with defined constants</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/share.html" class="reference internal ">share - perform sat-based resource sharing</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/shell.html" class="reference internal ">shell - enter interactive command mode</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/show.html" class="reference internal ">show - generate schematics using graphviz</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/shregmap.html" class="reference internal ">shregmap - map shift registers</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/sim.html" class="reference internal ">sim - simulate the circuit</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/simplemap.html" class="reference internal ">simplemap - mapping simple coarse-grain cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/splice.html" class="reference internal ">splice - create explicit splicing cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/splitnets.html" class="reference internal ">splitnets - split up multi-bit nets</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/sta.html" class="reference internal ">sta - perform static timing analysis</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/stat.html" class="reference internal ">stat - print some statistics</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/submod.html" class="reference internal ">submod - moving part of a module to a new submodule</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/supercover.html" class="reference internal ">supercover - add hi/lo cover cells for each wire bit</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth.html" class="reference internal ">synth - generic synthesis script</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_achronix.html" class="reference internal ">synth_achronix - synthesis for Acrhonix Speedster22i FPGAs.</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_anlogic.html" class="reference internal ">synth_anlogic - synthesis for Anlogic FPGAs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_coolrunner2.html" class="reference internal ">synth_coolrunner2 - synthesis for Xilinx Coolrunner-II CPLDs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_easic.html" class="reference internal ">synth_easic - synthesis for eASIC platform</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_ecp5.html" class="reference internal ">synth_ecp5 - synthesis for ECP5 FPGAs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_efinix.html" class="reference internal ">synth_efinix - synthesis for Efinix FPGAs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_gatemate.html" class="reference internal ">synth_gatemate - synthesis for Cologne Chip GateMate FPGAs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_gowin.html" class="reference internal ">synth_gowin - synthesis for Gowin FPGAs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_greenpak4.html" class="reference internal ">synth_greenpak4 - synthesis for GreenPAK4 FPGAs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_ice40.html" class="reference internal ">synth_ice40 - synthesis for iCE40 FPGAs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_intel.html" class="reference internal ">synth_intel - synthesis for Intel (Altera) FPGAs.</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_intel_alm.html" class="reference internal ">synth_intel_alm - synthesis for ALM-based Intel (Altera) FPGAs.</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_machxo2.html" class="reference internal ">synth_machxo2 - synthesis for MachXO2 FPGAs. This work is experimental.</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_nexus.html" class="reference internal ">synth_nexus - synthesis for Lattice Nexus FPGAs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_quicklogic.html" class="reference internal ">synth_quicklogic - Synthesis for QuickLogic FPGAs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_sf2.html" class="reference internal ">synth_sf2 - synthesis for SmartFusion2 and IGLOO2 FPGAs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_xilinx.html" class="reference internal ">synth_xilinx - synthesis for Xilinx FPGAs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/tcl.html" class="reference internal ">tcl - execute a TCL script file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/techmap.html" class="reference internal ">techmap - generic technology mapper</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/tee.html" class="reference internal ">tee - redirect command output to file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/test_abcloop.html" class="reference internal ">test_abcloop - automatically test handling of loops in abc command</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/test_autotb.html" class="reference internal ">test_autotb - generate simple test benches</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/test_cell.html" class="reference internal ">test_cell - automatically test the implementation of a cell type</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/test_pmgen.html" class="reference internal ">test_pmgen - test pass for pmgen</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/torder.html" class="reference internal ">torder - print cells in topological order</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/trace.html" class="reference internal ">trace - redirect command output to file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/tribuf.html" class="reference internal ">tribuf - infer tri-state buffers</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/uniquify.html" class="reference internal ">uniquify - create unique copies of modules</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/verific.html" class="reference internal ">verific - load Verilog and VHDL designs using Verific</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/verilog_defaults.html" class="reference internal ">verilog_defaults - set default options for read_verilog</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/verilog_defines.html" class="reference internal ">verilog_defines - define and undefine verilog defines</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/wbflip.html" class="reference internal ">wbflip - flip the whitebox attribute</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/wreduce.html" class="reference internal ">wreduce - reduce the word size of operations if possible</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_aiger.html" class="reference internal ">write_aiger - write design to AIGER file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_blif.html" class="reference internal ">write_blif - write design to BLIF file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_btor.html" class="reference internal ">write_btor - write design to BTOR file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_cxxrtl.html" class="reference internal ">write_cxxrtl - convert design to C++ RTL simulation</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_edif.html" class="reference internal ">write_edif - write design to EDIF netlist file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_file.html" class="reference internal ">write_file - write a text to a file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_firrtl.html" class="reference internal ">write_firrtl - write design to a FIRRTL file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_ilang.html" class="reference internal ">write_ilang - (deprecated) alias of write_rtlil</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_intersynth.html" class="reference internal ">write_intersynth - write design to InterSynth netlist file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_jny.html" class="reference internal ">write_jny - generate design metadata</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_json.html" class="reference internal ">write_json - write design to a JSON file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_rtlil.html" class="reference internal ">write_rtlil - write design to RTLIL file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_simplec.html" class="reference internal ">write_simplec - convert design to simple C code</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_smt2.html" class="reference internal ">write_smt2 - write design to SMT-LIBv2 file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_smv.html" class="reference internal ">write_smv - write design to SMV file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_spice.html" class="reference internal ">write_spice - write design to SPICE netlist file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_table.html" class="reference internal ">write_table - write design as connectivity table</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_verilog.html" class="reference internal ">write_verilog - write design to Verilog file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_xaiger.html" class="reference internal ">write_xaiger - write design to XAIGER file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/xilinx_dffopt.html" class="reference internal ">xilinx_dffopt - Xilinx: optimize FF control signal usage</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/xilinx_dsp.html" class="reference internal ">xilinx_dsp - Xilinx: pack resources into DSPs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/xilinx_srl.html" class="reference internal ">xilinx_srl - Xilinx shift register extraction</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/zinit.html" class="reference internal ">zinit - add inverters so all FF are zero-initialized</a>
            

            
          </li>

        
      </ul>
    </div>
  
</div>
        </sidebar>

      <page>
          <div class="body-header" role="navigation" aria-label="navigation">
  
  <ul class="breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
    
    <li><span class="section-number">8. </span>Optimizations</li>
  </ul>
  

  <ul class="page-nav">
  <li class="prev">
    <a href="CHAPTER_Verilog.html"
       title="previous chapter">← <span class="section-number">7. </span>The Verilog and AST frontends</a>
  </li>
  <li class="next">
    <a href="CHAPTER_Techmap.html"
       title="next chapter"><span class="section-number">9. </span>Technology mapping →</a>
  </li>
</ul>
  
</div>
<hr>
          <div class="content" role="main" v-pre>
            
  <section id="optimizations">
<span id="chapter-opt"></span><h1><span class="section-number">8. </span>Optimizations<a class="headerlink" href="#optimizations" title="Permalink to this heading">¶</a></h1>
<p>Yosys employs a number of optimizations to generate better and cleaner results.
This chapter outlines these optimizations.</p>
<section id="simple-optimizations">
<h2><span class="section-number">8.1. </span>Simple optimizations<a class="headerlink" href="#simple-optimizations" title="Permalink to this heading">¶</a></h2>
<p>The Yosys pass opt runs a number of simple optimizations. This includes removing
unused signals and cells and const folding. It is recommended to run this pass
after each major step in the synthesis script. At the time of this writing the
opt pass executes the following passes that each perform a simple optimization:</p>
<ul class="simple">
<li><p>Once at the beginning of opt:</p>
<ul>
<li><p>opt_expr</p></li>
<li><p>opt_merge -nomux</p></li>
</ul>
</li>
<li><p>Repeat until result is stable:</p>
<ul>
<li><p>opt_muxtree</p></li>
<li><p>opt_reduce</p></li>
<li><p>opt_merge</p></li>
<li><p>opt_rmdff</p></li>
<li><p>opt_clean</p></li>
<li><p>opt_expr</p></li>
</ul>
</li>
</ul>
<p>The following section describes each of the opt_ passes.</p>
<section id="the-opt-expr-pass">
<h3><span class="section-number">8.1.1. </span>The opt_expr pass<a class="headerlink" href="#the-opt-expr-pass" title="Permalink to this heading">¶</a></h3>
<p>This pass performs const folding on the internal combinational cell types
described in <a class="reference internal" href="CHAPTER_CellLib.html#chapter-celllib"><span class="std std-numref">Chap. 5</span></a>. This means a cell with all
constant inputs is replaced with the constant value this cell drives. In some
cases this pass can also optimize cells with some constant inputs.</p>
<table class="docutils align-center" id="tab-opt-expr-and">
<caption><span class="caption-number">Table 8.1 </span><span class="caption-text">Const folding rules for $_AND_ cells as used in opt_expr.</span><a class="headerlink" href="#tab-opt-expr-and" title="Permalink to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>A-Input</p></th>
<th class="head"><p>B-Input</p></th>
<th class="head"><p>Replacement</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>any</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>any</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>X/Z</p></td>
<td><p>X/Z</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>X/Z</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>X/Z</p></td>
<td><p>1</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>any</p></td>
<td><p>X/Z</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>X/Z</p></td>
<td><p>any</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(a\)</span></p></td>
<td><p>1</p></td>
<td><p><span class="math notranslate nohighlight">\(a\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p><span class="math notranslate nohighlight">\(b\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(b\)</span></p></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="#tab-opt-expr-and"><span class="std std-numref">Table 8.1</span></a> shows the replacement rules used for
optimizing an $_AND_ gate. The first three rules implement the obvious const
folding rules. Note that ‘any’ might include dynamic values calculated by other
parts of the circuit. The following three lines propagate undef (X) states.
These are the only three cases in which it is allowed to propagate an undef
according to Sec. 5.1.10 of IEEE Std. 1364-2005 <span id="id1">[<a class="reference internal" href="bib.html#id11" title="IEEE Standards Association and others. Ieee standard for verilog hardware description language. IEEE Std 1364-2005 (Revision of IEEE Std 1364-2001), 2006. doi:10.1109/IEEESTD.2006.99495.">A+06</a>]</span>.</p>
<p>The next two lines assume the value 0 for undef states. These two rules are only
used if no other substitutions are possible in the current module. If other
substitutions are possible they are performed first, in the hope that the ‘any’
will change to an undef value or a 1 and therefore the output can be set to
undef.</p>
<p>The last two lines simply replace an $_AND_ gate with one constant-1 input with
a buffer.</p>
<p>Besides this basic const folding the opt_expr pass can replace 1-bit wide $eq
and $ne cells with buffers or not-gates if one input is constant.</p>
<p>The opt_expr pass is very conservative regarding optimizing $mux cells, as these
cells are often used to model decision-trees and breaking these trees can
interfere with other optimizations.</p>
</section>
<section id="the-opt-muxtree-pass">
<h3><span class="section-number">8.1.2. </span>The opt_muxtree pass<a class="headerlink" href="#the-opt-muxtree-pass" title="Permalink to this heading">¶</a></h3>
<p>This pass optimizes trees of multiplexer cells by analyzing the select inputs.
Consider the following simple example:</p>
<div class="highlight-verilog notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="k">module</span><span class="w"> </span><span class="n">uut</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">);</span><span class="w"> </span><span class="k">input</span><span class="w"> </span><span class="n">a</span><span class="p">;</span><span class="w"> </span><span class="k">output</span><span class="w"> </span><span class="p">[</span><span class="mh">1</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mh">1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mh">2</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mh">3</span><span class="p">;</span><span class="w"> </span><span class="k">endmodule</span><span class="w"></span>
</pre></div>
</div>
<p>The output can never be 2, as this would require <code class="docutils literal notranslate"><span class="pre">a</span></code> to be 1 for the outer
multiplexer and 0 for the inner multiplexer. The opt_muxtree pass detects this
contradiction and replaces the inner multiplexer with a constant 1, yielding the
logic for <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">a</span> <span class="pre">?</span> <span class="pre">1</span> <span class="pre">:</span> <span class="pre">3</span></code>.</p>
</section>
<section id="the-opt-reduce-pass">
<h3><span class="section-number">8.1.3. </span>The opt_reduce pass<a class="headerlink" href="#the-opt-reduce-pass" title="Permalink to this heading">¶</a></h3>
<p>This is a simple optimization pass that identifies and consolidates identical
input bits to $reduce_and and $reduce_or cells. It also sorts the input bits to
ease identification of shareable $reduce_and and $reduce_or cells in other
passes.</p>
<p>This pass also identifies and consolidates identical inputs to multiplexer
cells. In this case the new shared select bit is driven using a $reduce_or cell
that combines the original select bits.</p>
<p>Lastly this pass consolidates trees of $reduce_and cells and trees of $reduce_or
cells to single large $reduce_and or $reduce_or cells.</p>
<p>These three simple optimizations are performed in a loop until a stable result
is produced.</p>
</section>
<section id="the-opt-rmdff-pass">
<h3><span class="section-number">8.1.4. </span>The opt_rmdff pass<a class="headerlink" href="#the-opt-rmdff-pass" title="Permalink to this heading">¶</a></h3>
<p>This pass identifies single-bit d-type flip-flops ($_DFF_, $dff, and $adff
cells) with a constant data input and replaces them with a constant driver.</p>
</section>
<section id="the-opt-clean-pass">
<h3><span class="section-number">8.1.5. </span>The opt_clean pass<a class="headerlink" href="#the-opt-clean-pass" title="Permalink to this heading">¶</a></h3>
<p>This pass identifies unused signals and cells and removes them from the design.
It also creates an <code class="docutils literal notranslate"><span class="pre">\unused_bits</span></code> attribute on wires with unused bits. This
attribute can be used for debugging or by other optimization passes.</p>
</section>
<section id="the-opt-merge-pass">
<h3><span class="section-number">8.1.6. </span>The opt_merge pass<a class="headerlink" href="#the-opt-merge-pass" title="Permalink to this heading">¶</a></h3>
<p>This pass performs trivial resource sharing. This means that this pass
identifies cells with identical inputs and replaces them with a single instance
of the cell.</p>
<p>The option -nomux can be used to disable resource sharing for multiplexer cells
($mux and $pmux. This can be useful as it prevents multiplexer trees to be
merged, which might prevent opt_muxtree to identify possible optimizations.</p>
</section>
</section>
<section id="fsm-extraction-and-encoding">
<h2><span class="section-number">8.2. </span>FSM extraction and encoding<a class="headerlink" href="#fsm-extraction-and-encoding" title="Permalink to this heading">¶</a></h2>
<p>The fsm pass performs finite-state-machine (FSM) extraction and recoding. The
fsm pass simply executes the following other passes:</p>
<ul class="simple">
<li><p>Identify and extract FSMs:</p>
<ul>
<li><p>fsm_detect</p></li>
<li><p>fsm_extract</p></li>
</ul>
</li>
<li><p>Basic optimizations:</p>
<ul>
<li><p>fsm_opt</p></li>
<li><p>opt_clean</p></li>
<li><p>fsm_opt</p></li>
</ul>
</li>
<li><p>Expanding to nearby gate-logic (if called with -expand):</p>
<ul>
<li><p>fsm_expand</p></li>
<li><p>opt_clean</p></li>
<li><p>fsm_opt</p></li>
</ul>
</li>
<li><p>Re-code FSM states (unless called with -norecode):</p>
<ul>
<li><p>fsm_recode</p></li>
</ul>
</li>
<li><p>Print information about FSMs:</p>
<ul>
<li><p>fsm_info</p></li>
</ul>
</li>
<li><p>Export FSMs in KISS2 file format (if called with -export):</p>
<ul>
<li><p>fsm_export</p></li>
</ul>
</li>
<li><p>Map FSMs to RTL cells (unless called with -nomap):</p>
<ul>
<li><p>fsm_map</p></li>
</ul>
</li>
</ul>
<p>The fsm_detect pass identifies FSM state registers and marks them using the
<code class="docutils literal notranslate"><span class="pre">\fsm_encoding</span> <span class="pre">=</span> <span class="pre">&quot;auto&quot;</span></code> attribute. The fsm_extract extracts all FSMs marked
using the <code class="docutils literal notranslate"><span class="pre">\fsm_encoding</span></code> attribute (unless <code class="docutils literal notranslate"><span class="pre">\fsm_encoding</span></code> is set to
“none”) and replaces the corresponding RTL cells with a $fsm cell. All other
fsm_ passes operate on these $fsm cells. The fsm_map call finally replaces the
$fsm cells with RTL cells.</p>
<p>Note that these optimizations operate on an RTL netlist. I.e. the fsm pass
should be executed after the proc pass has transformed all RTLIL::Process
objects to RTL cells.</p>
<p>The algorithms used for FSM detection and extraction are influenced by a more
general reported technique <span id="id2">[<a class="reference internal" href="bib.html#id19" title="Yiqiong Shi, Chan Wai Ting, Bah-Hwee Gwee, and Ye Ren. A highly efficient method for extracting fsms from flattened gate-level netlist. In Circuits and Systems (ISCAS), Proceedings of 2010 IEEE International Symposium on, 2610-2613. 2010. doi:10.1109/ISCAS.2010.5537093.">STGR10</a>]</span>.</p>
<section id="fsm-detection">
<h3><span class="section-number">8.2.1. </span>FSM detection<a class="headerlink" href="#fsm-detection" title="Permalink to this heading">¶</a></h3>
<p>The fsm_detect pass identifies FSM state registers. It sets the <code class="docutils literal notranslate"><span class="pre">\fsm_encoding</span>
<span class="pre">=</span> <span class="pre">&quot;auto&quot;</span></code> attribute on any (multi-bit) wire that matches the following
description:</p>
<ul class="simple">
<li><p>Does not already have the <code class="docutils literal notranslate"><span class="pre">\fsm_encoding</span></code> attribute.</p></li>
<li><p>Is not an output of the containing module.</p></li>
<li><p>Is driven by single $dff or $adff cell.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">\D</span></code>-Input of this $dff or $adff cell is driven by a multiplexer tree
that only has constants or the old state value on its leaves.</p></li>
<li><p>The state value is only used in the said multiplexer tree or by simple
relational cells that compare the state value to a constant (usually $eq
cells).</p></li>
</ul>
<p>This heuristic has proven to work very well. It is possible to overwrite it by
setting <code class="docutils literal notranslate"><span class="pre">\fsm_encoding</span> <span class="pre">=</span> <span class="pre">&quot;auto&quot;</span></code> on registers that should be considered FSM
state registers and setting <code class="docutils literal notranslate"><span class="pre">\fsm_encoding</span> <span class="pre">=</span> <span class="pre">&quot;none&quot;</span></code> on registers that match
the above criteria but should not be considered FSM state registers.</p>
<p>Note however that marking state registers with <code class="docutils literal notranslate"><span class="pre">\fsm_encoding</span></code> that are not
suitable for FSM recoding can cause synthesis to fail or produce invalid
results.</p>
</section>
<section id="fsm-extraction">
<h3><span class="section-number">8.2.2. </span>FSM extraction<a class="headerlink" href="#fsm-extraction" title="Permalink to this heading">¶</a></h3>
<p>The fsm_extract pass operates on all state signals marked with the
(<code class="docutils literal notranslate"><span class="pre">\fsm_encoding</span> <span class="pre">!=</span> <span class="pre">&quot;none&quot;</span></code>) attribute. For each state signal the following
information is determined:</p>
<ul class="simple">
<li><p>The state registers</p></li>
<li><p>The asynchronous reset state if the state registers use asynchronous reset</p></li>
<li><p>All states and the control input signals used in the state transition
functions</p></li>
<li><p>The control output signals calculated from the state signals and control
inputs</p></li>
<li><p>A table of all state transitions and corresponding control inputs- and
outputs</p></li>
</ul>
<p>The state registers (and asynchronous reset state, if applicable) is simply
determined by identifying the driver for the state signal.</p>
<p>From there the $mux-tree driving the state register inputs is recursively
traversed. All select inputs are control signals and the leaves of the $mux-tree
are the states. The algorithm fails if a non-constant leaf that is not the state
signal itself is found.</p>
<p>The list of control outputs is initialized with the bits from the state signal.
It is then extended by adding all values that are calculated by cells that
compare the state signal with a constant value.</p>
<p>In most cases this will cover all uses of the state register, thus rendering the
state encoding arbitrary. If however a design uses e.g. a single bit of the
state value to drive a control output directly, this bit of the state signal
will be transformed to a control output of the same value.</p>
<p>Finally, a transition table for the FSM is generated. This is done by using the
ConstEval C++ helper class (defined in kernel/consteval.h) that can be used to
evaluate parts of the design. The ConstEval class can be asked to calculate a
given set of result signals using a set of signal-value assignments. It can also
be passed a list of stop-signals that abort the ConstEval algorithm if the value
of a stop-signal is needed in order to calculate the result signals.</p>
<p>The fsm_extract pass uses the ConstEval class in the following way to create a
transition table. For each state:</p>
<ol class="arabic simple">
<li><p>Create a ConstEval object for the module containing the FSM</p></li>
<li><p>Add all control inputs to the list of stop signals</p></li>
<li><p>Set the state signal to the current state</p></li>
<li><p>Try to evaluate the next state and control output</p></li>
<li><p>If step 4 was not successful:</p>
<ul class="simple">
<li><p>Recursively goto step 4 with the offending stop-signal set to 0.</p></li>
<li><p>Recursively goto step 4 with the offending stop-signal set to 1.</p></li>
</ul>
</li>
<li><p>If step 4 was successful: Emit transition</p></li>
</ol>
<p>Finally a $fsm cell is created with the generated transition table and added to
the module. This new cell is connected to the control signals and the old
drivers for the control outputs are disconnected.</p>
</section>
<section id="fsm-optimization">
<h3><span class="section-number">8.2.3. </span>FSM optimization<a class="headerlink" href="#fsm-optimization" title="Permalink to this heading">¶</a></h3>
<p>The fsm_opt pass performs basic optimizations on $fsm cells (not including state
recoding). The following optimizations are performed (in this order):</p>
<ul class="simple">
<li><p>Unused control outputs are removed from the $fsm cell. The attribute
<code class="docutils literal notranslate"><span class="pre">\unused_bits</span></code> (that is usually set by the opt_clean pass) is used to
determine which control outputs are unused.</p></li>
<li><p>Control inputs that are connected to the same driver are merged.</p></li>
<li><p>When a control input is driven by a control output, the control input is
removed and the transition table altered to give the same performance without
the external feedback path.</p></li>
<li><p>Entries in the transition table that yield the same output and only differ in
the value of a single control input bit are merged and the different bit is
removed from the sensitivity list (turned into a don’t-care bit).</p></li>
<li><p>Constant inputs are removed and the transition table is altered to give an
unchanged behaviour.</p></li>
<li><p>Unused inputs are removed.</p></li>
</ul>
</section>
<section id="fsm-recoding">
<h3><span class="section-number">8.2.4. </span>FSM recoding<a class="headerlink" href="#fsm-recoding" title="Permalink to this heading">¶</a></h3>
<p>The fsm_recode pass assigns new bit pattern to the states. Usually this also
implies a change in the width of the state signal. At the moment of this writing
only one-hot encoding with all-zero for the reset state is supported.</p>
<p>The fsm_recode pass can also write a text file with the changes performed by it
that can be used when verifying designs synthesized by Yosys using Synopsys
Formality .</p>
</section>
</section>
<section id="logic-optimization">
<h2><span class="section-number">8.3. </span>Logic optimization<a class="headerlink" href="#logic-optimization" title="Permalink to this heading">¶</a></h2>
<p>Yosys can perform multi-level combinational logic optimization on gate-level
netlists using the external program ABC . The abc pass extracts the
combinational gate-level parts of the design, passes it through ABC, and
re-integrates the results. The abc pass can also be used to perform other
operations using ABC, such as technology mapping (see <a class="reference internal" href="CHAPTER_Techmap.html#sec-techmap-extern"><span class="std std-numref">Sec 9.3</span></a> for details).</p>
</section>
</section>


          </div>
          <div class="page-nav">
            <div class="inner"><ul class="page-nav">
  <li class="prev">
    <a href="CHAPTER_Verilog.html"
       title="previous chapter">← <span class="section-number">7. </span>The Verilog and AST frontends</a>
  </li>
  <li class="next">
    <a href="CHAPTER_Techmap.html"
       title="next chapter"><span class="section-number">9. </span>Technology mapping →</a>
  </li>
</ul><div class="footer" role="contentinfo">
      &#169; Copyright 2022 YosysHQ GmbH.
    <br>
    Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.3.0 with <a href="https://github.com/schettino72/sphinx_press_theme">Press Theme</a> 0.8.0.
</div>
            </div>
          </div>
      </page>
    </div></div>
    
    
  </body>
</html>