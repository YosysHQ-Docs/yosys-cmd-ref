<!DOCTYPE html>
<html  lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

      <title>4. Implementation overview</title>
    
          <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
          <link rel="stylesheet" href="_static/theme.css " type="text/css" />
          <link rel="stylesheet" href="_static/yosyshq.css" type="text/css" />
          <link rel="stylesheet" href="_static/custom.css" type="text/css" />
      
      <!-- sphinx script_files -->
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

      
      <!-- bundled in js (rollup iife) -->
      <!-- <script src="_static/theme-vendors.js"></script> -->
      <script src="_static/theme.js" defer></script>
    
      <link rel="shortcut icon" href="_static/favico.png"/>
  <link rel="index" title="Index" href="genindex.html" />
  <link rel="search" title="Search" href="search.html" />
  <link rel="next" title="5. Internal cell library" href="CHAPTER_CellLib.html" />
  <link rel="prev" title="3. Approach" href="CHAPTER_Approach.html" /> 
  </head>

  <body>
    <div id="app">
    <div class="theme-container" :class="pageClasses"><navbar @toggle-sidebar="toggleSidebar">
  <router-link to="index.html" class="home-link">
    
      <img class="logo" src="_static/logo.png" alt="logo"/>
    
  </router-link>

  <div class="links">
    <navlinks class="can-hide">

  
    <div class="nav-item">
      <a href="index.html#yosys-manual"
         class="nav-link  router-link-active">
         Manual
      </a>
    </div>
  
    <div class="nav-item">
      <a href="index.html#yosys-manual"
         class="nav-link ">
         Appendix
      </a>
    </div>
  
    <div class="nav-item">
      <a href="cmd_ref.html#command-line-reference"
         class="nav-link ">
         Command reference
      </a>
    </div>
  



  
    <div class="nav-item">
      <a href="https://yosyshq.readthedocs.io"
        class="nav-link external">
          YosysHQ Docs <outboundlink></outboundlink>
      </a>
    </div>
  
    <div class="nav-item">
      <a href="https://blog.yosyshq.com"
        class="nav-link external">
          Blog <outboundlink></outboundlink>
      </a>
    </div>
  
    <div class="nav-item">
      <a href="https://www.yosyshq.com"
        class="nav-link external">
          Website <outboundlink></outboundlink>
      </a>
    </div>
  

    </navlinks>
  </div>
</navbar>

      
      <div class="sidebar-mask" @click="toggleSidebar(false)">
      </div>
        <sidebar @toggle-sidebar="toggleSidebar">
          
          <navlinks>
            

  
    <div class="nav-item">
      <a href="index.html#yosys-manual"
         class="nav-link  router-link-active">
         Manual
      </a>
    </div>
  
    <div class="nav-item">
      <a href="index.html#yosys-manual"
         class="nav-link ">
         Appendix
      </a>
    </div>
  
    <div class="nav-item">
      <a href="cmd_ref.html#command-line-reference"
         class="nav-link ">
         Command reference
      </a>
    </div>
  



  
    <div class="nav-item">
      <a href="https://yosyshq.readthedocs.io"
        class="nav-link external">
          YosysHQ Docs <outboundlink></outboundlink>
      </a>
    </div>
  
    <div class="nav-item">
      <a href="https://blog.yosyshq.com"
        class="nav-link external">
          Blog <outboundlink></outboundlink>
      </a>
    </div>
  
    <div class="nav-item">
      <a href="https://www.yosyshq.com"
        class="nav-link external">
          Website <outboundlink></outboundlink>
      </a>
    </div>
  

            
          </navlinks><div id="searchbox" class="searchbox" role="search">
  <div class="caption"><span class="caption-text">Quick search</span>
    <div class="searchformwrapper">
      <form class="search" action="search.html" method="get">
        <input type="text" name="q" />
        <input type="submit" value="Search" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div><div class="sidebar-links" role="navigation" aria-label="main navigation">
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="index.html#yosys-manual">Manual</a></span>
      </p>
      <ul class="current">
        
          <li class="toctree-l1 ">
            
              <a href="CHAPTER_Intro.html" class="reference internal ">Introduction</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="CHAPTER_Basics.html" class="reference internal ">Basic principles</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="CHAPTER_Approach.html" class="reference internal ">Approach</a>
            

            
          </li>

        
          <li class="toctree-l1 current">
            
              <a href="#" class="reference internal current">Implementation overview</a>
            

            
              <ul>
                
                  <li class="toctree-l2"><a href="#simplified-data-flow" class="reference internal">Simplified data flow</a></li>
                
                  <li class="toctree-l2"><a href="#the-rtl-intermediate-language-rtlil" class="reference internal">The RTL Intermediate Language (RTLIL)</a></li>
                
                  <li class="toctree-l2"><a href="#command-interface-and-synthesis-scripts" class="reference internal">Command interface and synthesis scripts</a></li>
                
                  <li class="toctree-l2"><a href="#source-tree-and-build-system" class="reference internal">Source tree and build system</a></li>
                
              </ul>
            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="CHAPTER_CellLib.html" class="reference internal ">Internal cell library</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="CHAPTER_Prog.html" class="reference internal ">Programming Yosys extensions</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="CHAPTER_Verilog.html" class="reference internal ">The Verilog and AST frontends</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="CHAPTER_Optimize.html" class="reference internal ">Optimizations</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="CHAPTER_Techmap.html" class="reference internal ">Technology mapping</a>
            

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="index.html#yosys-manual">Appendix</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 ">
            
              <a href="appendix/CHAPTER_Auxlibs.html" class="reference internal ">Auxiliary libraries</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="appendix/CHAPTER_Auxprogs.html" class="reference internal ">Auxiliary programs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="appendix/CHAPTER_TextRtlil.html" class="reference internal ">RTLIL text representation</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="appendix/APPNOTE_010_Verilog_to_BLIF.html" class="reference internal ">010: Converting Verilog to BLIF page</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="appendix/APPNOTE_011_Design_Investigation.html" class="reference internal ">011: Interactive design investigation page</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="appendix/APPNOTE_012_Verilog_to_BTOR.html" class="reference internal ">012: Converting Verilog to BTOR page</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="bib.html" class="reference internal ">Literature references</a>
            

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="cmd_ref.html#command-line-reference">Command reference</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 ">
            
              <a href="cmd/abc.html" class="reference internal ">abc - use ABC for technology mapping</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/abc9.html" class="reference internal ">abc9 - use ABC9 for technology mapping</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/abc9_exe.html" class="reference internal ">abc9_exe - use ABC9 for technology mapping</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/abc9_ops.html" class="reference internal ">abc9_ops - helper functions for ABC9</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/add.html" class="reference internal ">add - add objects to the design</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/aigmap.html" class="reference internal ">aigmap - map logic to and-inverter-graph circuit</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/alumacc.html" class="reference internal ">alumacc - extract ALU and MACC cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/anlogic_eqn.html" class="reference internal ">anlogic_eqn - Anlogic: Calculate equations for luts</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/anlogic_fixcarry.html" class="reference internal ">anlogic_fixcarry - Anlogic: fix carry chain</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/assertpmux.html" class="reference internal ">assertpmux - adds asserts for parallel muxes</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/async2sync.html" class="reference internal ">async2sync - convert async FF inputs to sync circuits</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/attrmap.html" class="reference internal ">attrmap - renaming attributes</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/attrmvcp.html" class="reference internal ">attrmvcp - move or copy attributes from wires to driving cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/autoname.html" class="reference internal ">autoname - automatically assign names to objects</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/blackbox.html" class="reference internal ">blackbox - convert modules into blackbox modules</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/bmuxmap.html" class="reference internal ">bmuxmap - transform $bmux cells to trees of $mux cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/bugpoint.html" class="reference internal ">bugpoint - minimize testcases</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/cd.html" class="reference internal ">cd - a shortcut for ‘select -module <name>’</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/check.html" class="reference internal ">check - check for obvious problems in the design</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/chformal.html" class="reference internal ">chformal - change formal constraints of the design</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/chparam.html" class="reference internal ">chparam - re-evaluate modules with new parameters</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/chtype.html" class="reference internal ">chtype - change type of cells in the design</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/clean.html" class="reference internal ">clean - remove unused cells and wires</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/clean_zerowidth.html" class="reference internal ">clean_zerowidth - clean zero-width connections from the design</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/clk2fflogic.html" class="reference internal ">clk2fflogic - convert clocked FFs to generic $ff cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/clkbufmap.html" class="reference internal ">clkbufmap - insert clock buffers on clock networks</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/connect.html" class="reference internal ">connect - create or remove connections</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/connect_rpc.html" class="reference internal ">connect_rpc - connect to RPC frontend</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/connwrappers.html" class="reference internal ">connwrappers - match width of input-output port pairs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/coolrunner2_fixup.html" class="reference internal ">coolrunner2_fixup - insert necessary buffer cells for CoolRunner-II architecture</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/coolrunner2_sop.html" class="reference internal ">coolrunner2_sop - break $sop cells into ANDTERM/ORTERM cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/copy.html" class="reference internal ">copy - copy modules in the design</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/cover.html" class="reference internal ">cover - print code coverage counters</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/cutpoint.html" class="reference internal ">cutpoint - adds formal cut points to the design</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/debug.html" class="reference internal ">debug - run command with debug log messages enabled</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/delete.html" class="reference internal ">delete - delete objects in the design</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/deminout.html" class="reference internal ">deminout - demote inout ports to input or output</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/demuxmap.html" class="reference internal ">demuxmap - transform $demux cells to $eq + $mux cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/design.html" class="reference internal ">design - save, restore and reset current design</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/dffinit.html" class="reference internal ">dffinit - set INIT param on FF cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/dfflegalize.html" class="reference internal ">dfflegalize - convert FFs to types supported by the target</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/dfflibmap.html" class="reference internal ">dfflibmap - technology mapping of flip-flops</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/dffunmap.html" class="reference internal ">dffunmap - unmap clock enable and synchronous reset from FFs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/dump.html" class="reference internal ">dump - print parts of the design in RTLIL format</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/echo.html" class="reference internal ">echo - turning echoing back of commands on and off</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/ecp5_gsr.html" class="reference internal ">ecp5_gsr - ECP5: handle GSR</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/edgetypes.html" class="reference internal ">edgetypes - list all types of edges in selection</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/efinix_fixcarry.html" class="reference internal ">efinix_fixcarry - Efinix: fix carry chain</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/equiv_add.html" class="reference internal ">equiv_add - add a $equiv cell</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/equiv_induct.html" class="reference internal ">equiv_induct - proving $equiv cells using temporal induction</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/equiv_make.html" class="reference internal ">equiv_make - prepare a circuit for equivalence checking</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/equiv_mark.html" class="reference internal ">equiv_mark - mark equivalence checking regions</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/equiv_miter.html" class="reference internal ">equiv_miter - extract miter from equiv circuit</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/equiv_opt.html" class="reference internal ">equiv_opt - prove equivalence for optimized circuit</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/equiv_purge.html" class="reference internal ">equiv_purge - purge equivalence checking module</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/equiv_remove.html" class="reference internal ">equiv_remove - remove $equiv cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/equiv_simple.html" class="reference internal ">equiv_simple - try proving simple $equiv instances</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/equiv_status.html" class="reference internal ">equiv_status - print status of equivalent checking module</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/equiv_struct.html" class="reference internal ">equiv_struct - structural equivalence checking</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/eval.html" class="reference internal ">eval - evaluate the circuit given an input</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/exec.html" class="reference internal ">exec - execute commands in the operating system shell</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/expose.html" class="reference internal ">expose - convert internal signals to module ports</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/extract.html" class="reference internal ">extract - find subcircuits and replace them with cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/extract_counter.html" class="reference internal ">extract_counter - Extract GreenPak4 counter cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/extract_fa.html" class="reference internal ">extract_fa - find and extract full/half adders</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/extract_reduce.html" class="reference internal ">extract_reduce - converts gate chains into $reduce_* cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/extractinv.html" class="reference internal ">extractinv - extract explicit inverter cells for invertible cell pins</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/flatten.html" class="reference internal ">flatten - flatten design</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/flowmap.html" class="reference internal ">flowmap - pack LUTs with FlowMap</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/fmcombine.html" class="reference internal ">fmcombine - combine two instances of a cell into one</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/fminit.html" class="reference internal ">fminit - set init values/sequences for formal</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/formalff.html" class="reference internal ">formalff - prepare FFs for formal</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/freduce.html" class="reference internal ">freduce - perform functional reduction</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/fsm.html" class="reference internal ">fsm - extract and optimize finite state machines</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/fsm_detect.html" class="reference internal ">fsm_detect - finding FSMs in design</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/fsm_expand.html" class="reference internal ">fsm_expand - expand FSM cells by merging logic into it</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/fsm_export.html" class="reference internal ">fsm_export - exporting FSMs to KISS2 files</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/fsm_extract.html" class="reference internal ">fsm_extract - extracting FSMs in design</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/fsm_info.html" class="reference internal ">fsm_info - print information on finite state machines</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/fsm_map.html" class="reference internal ">fsm_map - mapping FSMs to basic logic</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/fsm_opt.html" class="reference internal ">fsm_opt - optimize finite state machines</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/fsm_recode.html" class="reference internal ">fsm_recode - recoding finite state machines</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/fst2tb.html" class="reference internal ">fst2tb - generate testbench out of fst file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/gatemate_foldinv.html" class="reference internal ">gatemate_foldinv - fold inverters into Gatemate LUT trees</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/glift.html" class="reference internal ">glift - create GLIFT models and optimization problems</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/greenpak4_dffinv.html" class="reference internal ">greenpak4_dffinv - merge greenpak4 inverters and DFF/latches</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/help.html" class="reference internal ">help - display help messages</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/hierarchy.html" class="reference internal ">hierarchy - check, expand and clean up design hierarchy</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/hilomap.html" class="reference internal ">hilomap - technology mapping of constant hi- and/or lo-drivers</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/history.html" class="reference internal ">history - show last interactive commands</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/ice40_braminit.html" class="reference internal ">ice40_braminit - iCE40: perform SB_RAM40_4K initialization from file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/ice40_dsp.html" class="reference internal ">ice40_dsp - iCE40: map multipliers</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/ice40_opt.html" class="reference internal ">ice40_opt - iCE40: perform simple optimizations</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/ice40_wrapcarry.html" class="reference internal ">ice40_wrapcarry - iCE40: wrap carries</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/insbuf.html" class="reference internal ">insbuf - insert buffer cells for connected wires</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/iopadmap.html" class="reference internal ">iopadmap - technology mapping of i/o pads (or buffers)</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/jny.html" class="reference internal ">jny - write design and metadata</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/json.html" class="reference internal ">json - write design in JSON format</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/log.html" class="reference internal ">log - print text and log files</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/logger.html" class="reference internal ">logger - set logger properties</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/ls.html" class="reference internal ">ls - list modules or objects in modules</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/ltp.html" class="reference internal ">ltp - print longest topological path</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/lut2mux.html" class="reference internal ">lut2mux - convert $lut to $_MUX_</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/maccmap.html" class="reference internal ">maccmap - mapping macc cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/memory.html" class="reference internal ">memory - translate memories to basic cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/memory_bmux2rom.html" class="reference internal ">memory_bmux2rom - convert muxes to ROMs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/memory_bram.html" class="reference internal ">memory_bram - map memories to block rams</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/memory_collect.html" class="reference internal ">memory_collect - creating multi-port memory cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/memory_dff.html" class="reference internal ">memory_dff - merge input/output DFFs into memory read ports</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/memory_libmap.html" class="reference internal ">memory_libmap - map memories to cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/memory_map.html" class="reference internal ">memory_map - translate multiport memories to basic cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/memory_memx.html" class="reference internal ">memory_memx - emulate vlog sim behavior for mem ports</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/memory_narrow.html" class="reference internal ">memory_narrow - split up wide memory ports</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/memory_nordff.html" class="reference internal ">memory_nordff - extract read port FFs from memories</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/memory_share.html" class="reference internal ">memory_share - consolidate memory ports</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/memory_unpack.html" class="reference internal ">memory_unpack - unpack multi-port memory cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/miter.html" class="reference internal ">miter - automatically create a miter circuit</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/mutate.html" class="reference internal ">mutate - generate or apply design mutations</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/muxcover.html" class="reference internal ">muxcover - cover trees of MUX cells with wider MUXes</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/muxpack.html" class="reference internal ">muxpack - $mux/$pmux cascades to $pmux</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/nlutmap.html" class="reference internal ">nlutmap - map to LUTs of different sizes</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/onehot.html" class="reference internal ">onehot - optimize $eq cells for onehot signals</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt.html" class="reference internal ">opt - perform simple optimizations</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_clean.html" class="reference internal ">opt_clean - remove unused cells and wires</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_demorgan.html" class="reference internal ">opt_demorgan - Optimize reductions with DeMorgan equivalents</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_dff.html" class="reference internal ">opt_dff - perform DFF optimizations</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_expr.html" class="reference internal ">opt_expr - perform const folding and simple expression rewriting</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_ffinv.html" class="reference internal ">opt_ffinv - push inverters through FFs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_lut.html" class="reference internal ">opt_lut - optimize LUT cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_lut_ins.html" class="reference internal ">opt_lut_ins - discard unused LUT inputs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_mem.html" class="reference internal ">opt_mem - optimize memories</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_mem_feedback.html" class="reference internal ">opt_mem_feedback - convert memory read-to-write port feedback paths to write enables</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_mem_priority.html" class="reference internal ">opt_mem_priority - remove priority relations between write ports that can never collide</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_mem_widen.html" class="reference internal ">opt_mem_widen - optimize memories where all ports are wide</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_merge.html" class="reference internal ">opt_merge - consolidate identical cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_muxtree.html" class="reference internal ">opt_muxtree - eliminate dead trees in multiplexer trees</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_reduce.html" class="reference internal ">opt_reduce - simplify large MUXes and AND/OR gates</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/opt_share.html" class="reference internal ">opt_share - merge mutually exclusive cells of the same type that share an input signal</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/paramap.html" class="reference internal ">paramap - renaming cell parameters</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/peepopt.html" class="reference internal ">peepopt - collection of peephole optimizers</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/plugin.html" class="reference internal ">plugin - load and list loaded plugins</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/pmux2shiftx.html" class="reference internal ">pmux2shiftx - transform $pmux cells to $shiftx cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/pmuxtree.html" class="reference internal ">pmuxtree - transform $pmux cells to trees of $mux cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/portlist.html" class="reference internal ">portlist - list (top-level) ports</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/prep.html" class="reference internal ">prep - generic synthesis script</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/printattrs.html" class="reference internal ">printattrs - print attributes of selected objects</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/proc.html" class="reference internal ">proc - translate processes to netlists</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/proc_arst.html" class="reference internal ">proc_arst - detect asynchronous resets</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/proc_clean.html" class="reference internal ">proc_clean - remove empty parts of processes</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/proc_dff.html" class="reference internal ">proc_dff - extract flip-flops from processes</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/proc_dlatch.html" class="reference internal ">proc_dlatch - extract latches from processes</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/proc_init.html" class="reference internal ">proc_init - convert initial block to init attributes</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/proc_memwr.html" class="reference internal ">proc_memwr - extract memory writes from processes</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/proc_mux.html" class="reference internal ">proc_mux - convert decision trees to multiplexers</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/proc_prune.html" class="reference internal ">proc_prune - remove redundant assignments</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/proc_rmdead.html" class="reference internal ">proc_rmdead - eliminate dead trees in decision trees</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/proc_rom.html" class="reference internal ">proc_rom - convert switches to ROMs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/qbfsat.html" class="reference internal ">qbfsat - solve a 2QBF-SAT problem in the circuit</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/qwp.html" class="reference internal ">qwp - quadratic wirelength placer</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/read.html" class="reference internal ">read - load HDL designs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/read_aiger.html" class="reference internal ">read_aiger - read AIGER file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/read_blif.html" class="reference internal ">read_blif - read BLIF file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/read_ilang.html" class="reference internal ">read_ilang - (deprecated) alias of read_rtlil</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/read_json.html" class="reference internal ">read_json - read JSON file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/read_liberty.html" class="reference internal ">read_liberty - read cells from liberty file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/read_rtlil.html" class="reference internal ">read_rtlil - read modules from RTLIL file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/read_verilog.html" class="reference internal ">read_verilog - read modules from Verilog file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/rename.html" class="reference internal ">rename - rename object in the design</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/rmports.html" class="reference internal ">rmports - remove module ports with no connections</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/sat.html" class="reference internal ">sat - solve a SAT problem in the circuit</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/scatter.html" class="reference internal ">scatter - add additional intermediate nets</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/scc.html" class="reference internal ">scc - detect strongly connected components (logic loops)</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/scratchpad.html" class="reference internal ">scratchpad - get/set values in the scratchpad</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/script.html" class="reference internal ">script - execute commands from file or wire</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/select.html" class="reference internal ">select - modify and view the list of selected objects</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/setattr.html" class="reference internal ">setattr - set/unset attributes on objects</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/setparam.html" class="reference internal ">setparam - set/unset parameters on objects</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/setundef.html" class="reference internal ">setundef - replace undef values with defined constants</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/share.html" class="reference internal ">share - perform sat-based resource sharing</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/shell.html" class="reference internal ">shell - enter interactive command mode</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/show.html" class="reference internal ">show - generate schematics using graphviz</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/shregmap.html" class="reference internal ">shregmap - map shift registers</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/sim.html" class="reference internal ">sim - simulate the circuit</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/simplemap.html" class="reference internal ">simplemap - mapping simple coarse-grain cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/splice.html" class="reference internal ">splice - create explicit splicing cells</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/splitnets.html" class="reference internal ">splitnets - split up multi-bit nets</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/sta.html" class="reference internal ">sta - perform static timing analysis</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/stat.html" class="reference internal ">stat - print some statistics</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/submod.html" class="reference internal ">submod - moving part of a module to a new submodule</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/supercover.html" class="reference internal ">supercover - add hi/lo cover cells for each wire bit</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth.html" class="reference internal ">synth - generic synthesis script</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_achronix.html" class="reference internal ">synth_achronix - synthesis for Acrhonix Speedster22i FPGAs.</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_anlogic.html" class="reference internal ">synth_anlogic - synthesis for Anlogic FPGAs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_coolrunner2.html" class="reference internal ">synth_coolrunner2 - synthesis for Xilinx Coolrunner-II CPLDs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_easic.html" class="reference internal ">synth_easic - synthesis for eASIC platform</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_ecp5.html" class="reference internal ">synth_ecp5 - synthesis for ECP5 FPGAs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_efinix.html" class="reference internal ">synth_efinix - synthesis for Efinix FPGAs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_gatemate.html" class="reference internal ">synth_gatemate - synthesis for Cologne Chip GateMate FPGAs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_gowin.html" class="reference internal ">synth_gowin - synthesis for Gowin FPGAs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_greenpak4.html" class="reference internal ">synth_greenpak4 - synthesis for GreenPAK4 FPGAs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_ice40.html" class="reference internal ">synth_ice40 - synthesis for iCE40 FPGAs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_intel.html" class="reference internal ">synth_intel - synthesis for Intel (Altera) FPGAs.</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_intel_alm.html" class="reference internal ">synth_intel_alm - synthesis for ALM-based Intel (Altera) FPGAs.</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_machxo2.html" class="reference internal ">synth_machxo2 - synthesis for MachXO2 FPGAs. This work is experimental.</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_nexus.html" class="reference internal ">synth_nexus - synthesis for Lattice Nexus FPGAs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_quicklogic.html" class="reference internal ">synth_quicklogic - Synthesis for QuickLogic FPGAs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_sf2.html" class="reference internal ">synth_sf2 - synthesis for SmartFusion2 and IGLOO2 FPGAs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/synth_xilinx.html" class="reference internal ">synth_xilinx - synthesis for Xilinx FPGAs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/tcl.html" class="reference internal ">tcl - execute a TCL script file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/techmap.html" class="reference internal ">techmap - generic technology mapper</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/tee.html" class="reference internal ">tee - redirect command output to file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/test_abcloop.html" class="reference internal ">test_abcloop - automatically test handling of loops in abc command</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/test_autotb.html" class="reference internal ">test_autotb - generate simple test benches</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/test_cell.html" class="reference internal ">test_cell - automatically test the implementation of a cell type</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/test_pmgen.html" class="reference internal ">test_pmgen - test pass for pmgen</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/torder.html" class="reference internal ">torder - print cells in topological order</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/trace.html" class="reference internal ">trace - redirect command output to file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/tribuf.html" class="reference internal ">tribuf - infer tri-state buffers</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/uniquify.html" class="reference internal ">uniquify - create unique copies of modules</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/verific.html" class="reference internal ">verific - load Verilog and VHDL designs using Verific</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/verilog_defaults.html" class="reference internal ">verilog_defaults - set default options for read_verilog</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/verilog_defines.html" class="reference internal ">verilog_defines - define and undefine verilog defines</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/wbflip.html" class="reference internal ">wbflip - flip the whitebox attribute</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/wreduce.html" class="reference internal ">wreduce - reduce the word size of operations if possible</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_aiger.html" class="reference internal ">write_aiger - write design to AIGER file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_blif.html" class="reference internal ">write_blif - write design to BLIF file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_btor.html" class="reference internal ">write_btor - write design to BTOR file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_cxxrtl.html" class="reference internal ">write_cxxrtl - convert design to C++ RTL simulation</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_edif.html" class="reference internal ">write_edif - write design to EDIF netlist file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_file.html" class="reference internal ">write_file - write a text to a file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_firrtl.html" class="reference internal ">write_firrtl - write design to a FIRRTL file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_ilang.html" class="reference internal ">write_ilang - (deprecated) alias of write_rtlil</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_intersynth.html" class="reference internal ">write_intersynth - write design to InterSynth netlist file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_jny.html" class="reference internal ">write_jny - generate design metadata</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_json.html" class="reference internal ">write_json - write design to a JSON file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_rtlil.html" class="reference internal ">write_rtlil - write design to RTLIL file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_simplec.html" class="reference internal ">write_simplec - convert design to simple C code</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_smt2.html" class="reference internal ">write_smt2 - write design to SMT-LIBv2 file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_smv.html" class="reference internal ">write_smv - write design to SMV file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_spice.html" class="reference internal ">write_spice - write design to SPICE netlist file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_table.html" class="reference internal ">write_table - write design as connectivity table</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_verilog.html" class="reference internal ">write_verilog - write design to Verilog file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/write_xaiger.html" class="reference internal ">write_xaiger - write design to XAIGER file</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/xilinx_dffopt.html" class="reference internal ">xilinx_dffopt - Xilinx: optimize FF control signal usage</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/xilinx_dsp.html" class="reference internal ">xilinx_dsp - Xilinx: pack resources into DSPs</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/xilinx_srl.html" class="reference internal ">xilinx_srl - Xilinx shift register extraction</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="cmd/zinit.html" class="reference internal ">zinit - add inverters so all FF are zero-initialized</a>
            

            
          </li>

        
      </ul>
    </div>
  
</div>
        </sidebar>

      <page>
          <div class="body-header" role="navigation" aria-label="navigation">
  
  <ul class="breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
    
    <li><span class="section-number">4. </span>Implementation overview</li>
  </ul>
  

  <ul class="page-nav">
  <li class="prev">
    <a href="CHAPTER_Approach.html"
       title="previous chapter">← <span class="section-number">3. </span>Approach</a>
  </li>
  <li class="next">
    <a href="CHAPTER_CellLib.html"
       title="next chapter"><span class="section-number">5. </span>Internal cell library →</a>
  </li>
</ul>
  
</div>
<hr>
          <div class="content" role="main" v-pre>
            
  <section id="implementation-overview">
<span id="chapter-overview"></span><h1><span class="section-number">4. </span>Implementation overview<a class="headerlink" href="#implementation-overview" title="Permalink to this heading">¶</a></h1>
<p>Yosys is an extensible open source hardware synthesis tool. It is aimed at
designers who are looking for an easily accessible, universal, and
vendor-independent synthesis tool, as well as scientists who do research in
electronic design automation (EDA) and are looking for an open synthesis
framework that can be used to test algorithms on complex real-world designs.</p>
<p>Yosys can synthesize a large subset of Verilog 2005 and has been tested with a
wide range of real-world designs, including the <a class="reference external" href="https://github.com/openrisc/or1200">OpenRISC 1200 CPU</a>, the
<a class="reference external" href="http://opencores.org/projects/openmsp430">openMSP430 CPU</a>, the <a class="reference external" href="http://opencores.org/projects/i2c">OpenCores I2C master</a>, and the <a class="reference external" href="http://opencores.org/projects/k68">k68 CPU</a>.</p>
<p>As of this writing a Yosys VHDL frontend is in development.</p>
<p>Yosys is written in C++ (using some features from the new C++11 standard). This
chapter describes some of the fundamental Yosys data structures. For the sake of
simplicity the C++ type names used in the Yosys implementation are used in this
chapter, even though the chapter only explains the conceptual idea behind it and
can be used as reference to implement a similar system in any language.</p>
<section id="simplified-data-flow">
<h2><span class="section-number">4.1. </span>Simplified data flow<a class="headerlink" href="#simplified-data-flow" title="Permalink to this heading">¶</a></h2>
<p><a class="reference internal" href="#fig-overview-flow"><span class="std std-numref">Figure 4.1</span></a> shows the simplified data flow within
Yosys. Rectangles in the figure represent program modules and ellipses internal
data structures that are used to exchange design data between the program
modules.</p>
<p>Design data is read in using one of the frontend modules. The high-level HDL
frontends for Verilog and VHDL code generate an abstract syntax tree (AST) that
is then passed to the AST frontend. Note that both HDL frontends use the same
AST representation that is powerful enough to cover the Verilog HDL and VHDL
language.</p>
<p>The AST Frontend then compiles the AST to Yosys’s main internal data format, the
RTL Intermediate Language (RTLIL). A more detailed description of this format is
given in the next section.</p>
<p>There is also a text representation of the RTLIL data structure that can be
parsed using the RTLIL Frontend.</p>
<p>The design data may then be transformed using a series of passes that all
operate on the RTLIL representation of the design.</p>
<p>Finally the design in RTLIL representation is converted back to text by one of
the backends, namely the Verilog Backend for generating Verilog netlists and the
RTLIL Backend for writing the RTLIL data in the same format that is understood
by the RTLIL Frontend.</p>
<p>With the exception of the AST Frontend, which is called by the high-level HDL
frontends and can’t be called directly by the user, all program modules are
called by the user (usually using a synthesis script that contains text commands
for Yosys).</p>
<p>By combining passes in different ways and/or adding additional passes to Yosys
it is possible to adapt Yosys to a wide range of applications. For this to be
possible it is key that (1) all passes operate on the same data structure
(RTLIL) and (2) that this data structure is powerful enough to represent the
design in different stages of the synthesis.</p>
<figure class="align-default" id="fig-overview-flow">
<img alt="_images/overview_flow.svg" class="width-helper" src="_images/overview_flow.svg" /><figcaption>
<p><span class="caption-number">Fig. 4.1 </span><span class="caption-text">Yosys simplified data flow (ellipses: data structures, rectangles:
program modules)</span><a class="headerlink" href="#fig-overview-flow" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="the-rtl-intermediate-language-rtlil">
<h2><span class="section-number">4.2. </span>The RTL Intermediate Language (RTLIL)<a class="headerlink" href="#the-rtl-intermediate-language-rtlil" title="Permalink to this heading">¶</a></h2>
<p>All frontends, passes and backends in Yosys operate on a design in RTLIL
representation. The only exception are the high-level frontends that use the AST
representation as an intermediate step before generating RTLIL data.</p>
<p>In order to avoid reinventing names for the RTLIL classes, they are simply
referred to by their full C++ name, i.e. including the RTLIL:: namespace prefix,
in this document.</p>
<p><a class="reference internal" href="#fig-overview-rtlil"><span class="std std-numref">Figure 4.2</span></a> shows a simplified Entity-Relationship
Diagram (ER Diagram) of RTLIL. In <span class="math notranslate nohighlight">\(1:N\)</span> relationships the arrow points
from the <span class="math notranslate nohighlight">\(N\)</span> side to the <span class="math notranslate nohighlight">\(1\)</span>. For example one RTLIL::Design contains
<span class="math notranslate nohighlight">\(N\)</span> (zero to many) instances of RTLIL::Module. A two-pointed arrow
indicates a <span class="math notranslate nohighlight">\(1:1\)</span> relationship.</p>
<p>The RTLIL::Design is the root object of the RTLIL data structure. There is
always one “current design” in memory which passes operate on, frontends add
data to and backends convert to exportable formats. But in some cases passes
internally generate additional RTLIL::Design objects. For example when a pass is
reading an auxiliary Verilog file such as a cell library, it might create an
additional RTLIL::Design object and call the Verilog frontend with this other
object to parse the cell library.</p>
<figure class="align-default" id="fig-overview-rtlil">
<img alt="_images/overview_rtlil.svg" class="width-helper" src="_images/overview_rtlil.svg" /><figcaption>
<p><span class="caption-number">Fig. 4.2 </span><span class="caption-text">Simplified RTLIL Entity-Relationship Diagram</span><a class="headerlink" href="#fig-overview-rtlil" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>There is only one active RTLIL::Design object that is used by all frontends,
passes and backends called by the user, e.g. using a synthesis script. The
RTLIL::Design then contains zero to many RTLIL::Module objects. This corresponds
to modules in Verilog or entities in VHDL. Each module in turn contains objects
from three different categories:</p>
<ul class="simple">
<li><p>RTLIL::Cell and RTLIL::Wire objects represent classical netlist data.</p></li>
<li><p>RTLIL::Process objects represent the decision trees (if-then-else statements,
etc.) and synchronization declarations (clock signals and sensitivity) from
Verilog always and VHDL process blocks.</p></li>
<li><p>RTLIL::Memory objects represent addressable memories (arrays).</p></li>
</ul>
<p>Usually the output of the synthesis procedure is a netlist, i.e. all
RTLIL::Process and RTLIL::Memory objects must be replaced by RTLIL::Cell and
RTLIL::Wire objects by synthesis passes.</p>
<p>All features of the HDL that cannot be mapped directly to these RTLIL classes
must be transformed to an RTLIL-compatible representation by the HDL frontend.
This includes Verilog-features such as generate-blocks, loops and parameters.</p>
<p>The following sections contain a more detailed description of the different
parts of RTLIL and rationale behind some of the design decisions.</p>
<section id="rtlil-identifiers">
<h3><span class="section-number">4.2.1. </span>RTLIL identifiers<a class="headerlink" href="#rtlil-identifiers" title="Permalink to this heading">¶</a></h3>
<p>All identifiers in RTLIL (such as module names, port names, signal names, cell
types, etc.) follow the following naming convention: they must either start with
a backslash () or a dollar sign ($).</p>
<p>Identifiers starting with a backslash are public visible identifiers. Usually
they originate from one of the HDL input files. For example the signal name
“\sig42” is most likely a signal that was declared using the name “sig42” in an
HDL input file. On the other hand the signal name “$sig42” is an auto-generated
signal name. The backends convert all identifiers that start with a dollar sign
to identifiers that do not collide with identifiers that start with a backslash.</p>
<p>This has three advantages:</p>
<ul class="simple">
<li><p>First, it is impossible that an auto-generated identifier collides with an
identifier that was provided by the user.</p></li>
<li><p>Second, the information about which identifiers were originally provided by
the user is always available which can help guide some optimizations. For
example the “opt_rmunused” tries to preserve signals with a user-provided
name but doesn’t hesitate to delete signals that have auto-generated names
when they just duplicate other signals.</p></li>
<li><p>Third, the delicate job of finding suitable auto-generated public visible
names is deferred to one central location. Internally auto-generated names
that may hold important information for Yosys developers can be used without
disturbing external tools. For example the Verilog backend assigns names in
the form _integer_.</p></li>
</ul>
<p>Whitespace and control characters (any character with an ASCII code 32 or less)
are not allowed in RTLIL identifiers; most frontends and backends cannot support
these characters in identifiers.</p>
<p>In order to avoid programming errors, the RTLIL data structures check if all
identifiers start with either a backslash or a dollar sign, and contain no
whitespace or control characters. Violating these rules results in a runtime
error.</p>
<p>All RTLIL identifiers are case sensitive.</p>
<p>Some transformations, such as flattening, may have to change identifiers
provided by the user to avoid name collisions. When that happens, attribute
“hdlname” is attached to the object with the changed identifier. This attribute
contains one name (if emitted directly by the frontend, or is a result of
disambiguation) or multiple names separated by spaces (if a result of
flattening). All names specified in the “hdlname” attribute are public and do
not include the leading “&quot;.</p>
</section>
<section id="rtlil-design-and-rtlil-module">
<h3><span class="section-number">4.2.2. </span>RTLIL::Design and RTLIL::Module<a class="headerlink" href="#rtlil-design-and-rtlil-module" title="Permalink to this heading">¶</a></h3>
<p>The RTLIL::Design object is basically just a container for RTLIL::Module
objects. In addition to a list of RTLIL::Module objects the RTLIL::Design also
keeps a list of selected objects, i.e. the objects that passes should operate
on. In most cases the whole design is selected and therefore passes operate on
the whole design. But this mechanism can be useful for more complex synthesis
jobs in which only parts of the design should be affected by certain passes.</p>
<p>Besides the objects shown in the ER diagram in <a class="reference internal" href="#fig-overview-rtlil"><span class="std std-numref">Fig. 4.2</span></a> an RTLIL::Module object contains the following additional
properties:</p>
<ul class="simple">
<li><p>The module name</p></li>
<li><p>A list of attributes</p></li>
<li><p>A list of connections between wires</p></li>
<li><p>An optional frontend callback used to derive parametrized variations of the
module</p></li>
</ul>
<p>The attributes can be Verilog attributes imported by the Verilog frontend or
attributes assigned by passes. They can be used to store additional metadata
about modules or just mark them to be used by certain part of the synthesis
script but not by others.</p>
<p>Verilog and VHDL both support parametric modules (known as “generic entities” in
VHDL). The RTLIL format does not support parametric modules itself. Instead each
module contains a callback function into the AST frontend to generate a
parametrized variation of the RTLIL::Module as needed. This callback then
returns the auto-generated name of the parametrized variation of the module. (A
hash over the parameters and the module name is used to prohibit the same
parametrized variation from being generated twice. For modules with only a few
parameters, a name directly containing all parameters is generated instead of a
hash string.)</p>
</section>
<section id="rtlil-cell-and-rtlil-wire">
<span id="sec-rtlil-cell-wire"></span><h3><span class="section-number">4.2.3. </span>RTLIL::Cell and RTLIL::Wire<a class="headerlink" href="#rtlil-cell-and-rtlil-wire" title="Permalink to this heading">¶</a></h3>
<p>A module contains zero to many RTLIL::Cell and RTLIL::Wire objects. Objects of
these types are used to model netlists. Usually the goal of all synthesis
efforts is to convert all modules to a state where the functionality of the
module is implemented only by cells from a given cell library and wires to
connect these cells with each other. Note that module ports are just wires with
a special property.</p>
<p>An RTLIL::Wire object has the following properties:</p>
<ul class="simple">
<li><p>The wire name</p></li>
<li><p>A list of attributes</p></li>
<li><p>A width (buses are just wires with a width &gt; 1)</p></li>
<li><p>Bus direction (MSB to LSB or vice versa)</p></li>
<li><p>Lowest valid bit index (LSB or MSB depending on bus direction)</p></li>
<li><p>If the wire is a port: port number and direction (input/output/inout)</p></li>
</ul>
<p>As with modules, the attributes can be Verilog attributes imported by the
Verilog frontend or attributes assigned by passes.</p>
<p>In Yosys, busses (signal vectors) are represented using a single wire object
with a width &gt; 1. So Yosys does not convert signal vectors to individual
signals. This makes some aspects of RTLIL more complex but enables Yosys to be
used for coarse grain synthesis where the cells of the target architecture
operate on entire signal vectors instead of single bit wires.</p>
<p>In Verilog and VHDL, busses may have arbitrary bounds, and LSB can have either
the lowest or the highest bit index. In RTLIL, bit 0 always corresponds to LSB;
however, information from the HDL frontend is preserved so that the bus will be
correctly indexed in error messages, backend output, constraint files, etc.</p>
<p>An RTLIL::Cell object has the following properties:</p>
<ul class="simple">
<li><p>The cell name and type</p></li>
<li><p>A list of attributes</p></li>
<li><p>A list of parameters (for parametric cells)</p></li>
<li><p>Cell ports and the connections of ports to wires and constants</p></li>
</ul>
<p>The connections of ports to wires are coded by assigning an RTLIL::SigSpec to
each cell port. The RTLIL::SigSpec data type is described in the next section.</p>
</section>
<section id="rtlil-sigspec">
<span id="sec-rtlil-sigspec"></span><h3><span class="section-number">4.2.4. </span>RTLIL::SigSpec<a class="headerlink" href="#rtlil-sigspec" title="Permalink to this heading">¶</a></h3>
<p>A “signal” is everything that can be applied to a cell port. I.e.</p>
<ul>
<li><div class="line-block">
<div class="line">Any constant value of arbitrary bit-width</div>
<div class="line">1em For example: <code class="docutils literal notranslate"><span class="pre">1337,</span> <span class="pre">16'b0000010100111001,</span> <span class="pre">1'b1,</span> <span class="pre">1'bx</span></code></div>
</div>
</li>
<li><div class="line-block">
<div class="line">All bits of a wire or a selection of bits from a wire</div>
<div class="line">1em For example: <code class="docutils literal notranslate"><span class="pre">mywire,</span> <span class="pre">mywire[24],</span> <span class="pre">mywire[15:8]</span></code></div>
</div>
</li>
<li><div class="line-block">
<div class="line">Concatenations of the above</div>
<div class="line">1em For example: <code class="docutils literal notranslate"><span class="pre">{16'd1337,</span> <span class="pre">mywire[15:8]}</span></code></div>
</div>
</li>
</ul>
<p>The RTLIL::SigSpec data type is used to represent signals. The RTLIL::Cell
object contains one RTLIL::SigSpec for each cell port.</p>
<p>In addition, connections between wires are represented using a pair of
RTLIL::SigSpec objects. Such pairs are needed in different locations. Therefore
the type name RTLIL::SigSig was defined for such a pair.</p>
</section>
<section id="rtlil-process">
<span id="sec-rtlil-process"></span><h3><span class="section-number">4.2.5. </span>RTLIL::Process<a class="headerlink" href="#rtlil-process" title="Permalink to this heading">¶</a></h3>
<p>When a high-level HDL frontend processes behavioural code it splits it up into
data path logic (e.g. the expression a + b is replaced by the output of an adder
that takes a and b as inputs) and an RTLIL::Process that models the control
logic of the behavioural code. Let’s consider a simple example:</p>
<div class="highlight-verilog notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="k">module</span><span class="w"> </span><span class="n">ff_with_en_and_async_reset</span><span class="p">(</span><span class="n">clock</span><span class="p">,</span><span class="w"> </span><span class="n">reset</span><span class="p">,</span><span class="w"> </span><span class="n">enable</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">q</span><span class="p">);</span><span class="w"></span>
<span class="linenos">2</span><span class="k">input</span><span class="w"> </span><span class="n">clock</span><span class="p">,</span><span class="w"> </span><span class="n">reset</span><span class="p">,</span><span class="w"> </span><span class="n">enable</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">;</span><span class="w"></span>
<span class="linenos">3</span><span class="k">output</span><span class="w"> </span><span class="kt">reg</span><span class="w"> </span><span class="n">q</span><span class="p">;</span><span class="w"></span>
<span class="linenos">4</span><span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">posedge</span><span class="w"> </span><span class="n">clock</span><span class="p">,</span><span class="w"> </span><span class="k">posedge</span><span class="w"> </span><span class="n">reset</span><span class="p">)</span><span class="w"></span>
<span class="linenos">5</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">reset</span><span class="p">)</span><span class="w"></span>
<span class="linenos">6</span><span class="w">        </span><span class="n">q</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">0</span><span class="p">;</span><span class="w"></span>
<span class="linenos">7</span><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">enable</span><span class="p">)</span><span class="w"></span>
<span class="linenos">8</span><span class="w">        </span><span class="n">q</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">d</span><span class="p">;</span><span class="w"></span>
<span class="linenos">9</span><span class="k">endmodule</span><span class="w"></span>
</pre></div>
</div>
<p>In this example there is no data path and therefore the RTLIL::Module generated
by the frontend only contains a few RTLIL::Wire objects and an RTLIL::Process.
The RTLIL::Process in RTLIL syntax:</p>
<div class="highlight-RTLIL notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">process</span><span class="w"> </span><span class="ni">$proc$ff_with_en_and_async_reset.v:4$1</span><span class="w"></span>
<span class="linenos"> 2</span><span class="w">    </span><span class="k">assign</span><span class="w"> </span><span class="nv">$0\q[0:0]</span><span class="w"> </span><span class="nv">\q</span><span class="w"></span>
<span class="linenos"> 3</span><span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="nv">\reset</span><span class="w"></span>
<span class="linenos"> 4</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="m">1&#39;1</span><span class="w"></span>
<span class="linenos"> 5</span><span class="w">            </span><span class="k">assign</span><span class="w"> </span><span class="nv">$0\q[0:0]</span><span class="w"> </span><span class="m">1&#39;0</span><span class="w"></span>
<span class="linenos"> 6</span><span class="w">        </span><span class="k">case</span><span class="w"></span>
<span class="linenos"> 7</span><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="nv">\enable</span><span class="w"></span>
<span class="linenos"> 8</span><span class="w">                </span><span class="k">case</span><span class="w"> </span><span class="m">1&#39;1</span><span class="w"></span>
<span class="linenos"> 9</span><span class="w">                    </span><span class="k">assign</span><span class="w"> </span><span class="nv">$0\q[0:0]</span><span class="w"> </span><span class="nv">\d</span><span class="w"></span>
<span class="linenos">10</span><span class="w">                </span><span class="k">case</span><span class="w"></span>
<span class="linenos">11</span><span class="w">            </span><span class="k">end</span><span class="w"></span>
<span class="linenos">12</span><span class="w">    </span><span class="k">end</span><span class="w"></span>
<span class="linenos">13</span><span class="w">    </span><span class="k">sync</span><span class="w"> </span><span class="k">posedge</span><span class="w"> </span><span class="nv">\clock</span><span class="w"></span>
<span class="linenos">14</span><span class="w">        </span><span class="k">update</span><span class="w"> </span><span class="nv">\q</span><span class="w"> </span><span class="nv">$0\q[0:0]</span><span class="w"></span>
<span class="linenos">15</span><span class="w">    </span><span class="k">sync</span><span class="w"> </span><span class="k">posedge</span><span class="w"> </span><span class="nv">\reset</span><span class="w"></span>
<span class="linenos">16</span><span class="w">        </span><span class="k">update</span><span class="w"> </span><span class="nv">\q</span><span class="w"> </span><span class="nv">$0\q[0:0]</span><span class="w"></span>
<span class="linenos">17</span><span class="k">end</span><span class="w"></span>
</pre></div>
</div>
<p>This RTLIL::Process contains two RTLIL::SyncRule objects, two RTLIL::SwitchRule
objects and five RTLIL::CaseRule objects. The wire $0q[0:0] is an automatically
created wire that holds the next value of \q. The lines <span class="math notranslate nohighlight">\(2 \dots 12\)</span>
describe how $0q[0:0] should be calculated. The lines <span class="math notranslate nohighlight">\(13 \dots 16\)</span>
describe how the value of $0q[0:0] is used to update \q.</p>
<p>An RTLIL::Process is a container for zero or more RTLIL::SyncRule objects and
exactly one RTLIL::CaseRule object, which is called the root case.</p>
<p>An RTLIL::SyncRule object contains an (optional) synchronization condition
(signal and edge-type), zero or more assignments (RTLIL::SigSig), and zero or
more memory writes (RTLIL::MemWriteAction). The always synchronization condition
is used to break combinatorial loops when a latch should be inferred instead.</p>
<p>An RTLIL::CaseRule is a container for zero or more assignments (RTLIL::SigSig)
and zero or more RTLIL::SwitchRule objects. An RTLIL::SwitchRule objects is a
container for zero or more RTLIL::CaseRule objects.</p>
<p>In the above example the lines <span class="math notranslate nohighlight">\(2 \dots 12\)</span> are the root case. Here
$0q[0:0] is first assigned the old value \q as default value (line 2). The
root case also contains an RTLIL::SwitchRule object (lines <span class="math notranslate nohighlight">\(3 \dots 12\)</span>).
Such an object is very similar to the C switch statement as it uses a control
signal (\reset in this case) to determine which of its cases should be active.
The RTLIL::SwitchRule object then contains one RTLIL::CaseRule object per case.
In this example there is a case <a class="footnote-reference brackets" href="#id2" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> for \reset == 1 that causes $0q[0:0] to
be set (lines 4 and 5) and a default case that in turn contains a switch that
sets $0q[0:0] to the value of \d if \enable is active (lines <span class="math notranslate nohighlight">\(6 \dots
11\)</span>).</p>
<p>A case can specify zero or more compare values that will determine whether it
matches. Each of the compare values must be the exact same width as the control
signal. When more than one compare value is specified, the case matches if any
of them matches the control signal; when zero compare values are specified, the
case always matches (i.e. it is the default case).</p>
<p>A switch prioritizes cases from first to last: multiple cases can match, but
only the first matched case becomes active. This normally synthesizes to a
priority encoder. The parallel_case attribute allows passes to assume that no
more than one case will match, and full_case attribute allows passes to assume
that exactly one case will match; if these invariants are ever dynamically
violated, the behavior is undefined. These attributes are useful when an
invariant invisible to the synthesizer causes the control signal to never take
certain bit patterns.</p>
<p>The lines <span class="math notranslate nohighlight">\(13 \dots 16\)</span> then cause \q to be updated whenever there is a
positive clock edge on \clock or \reset.</p>
<p>In order to generate such a representation, the language frontend must be able
to handle blocking and nonblocking assignments correctly. However, the language
frontend does not need to identify the correct type of storage element for the
output signal or generate multiplexers for the decision tree. This is done by
passes that work on the RTLIL representation. Therefore it is relatively easy to
substitute these steps with other algorithms that target different target
architectures or perform optimizations or other transformations on the decision
trees before further processing them.</p>
<p>One of the first actions performed on a design in RTLIL representation in most
synthesis scripts is identifying asynchronous resets. This is usually done using
the proc_arst pass. This pass transforms the above example to the following
RTLIL::Process:</p>
<div class="highlight-RTLIL notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">process</span><span class="w"> </span><span class="ni">$proc$ff_with_en_and_async_reset.v:4$1</span><span class="w"></span>
<span class="linenos"> 2</span><span class="w">    </span><span class="k">assign</span><span class="w"> </span><span class="nv">$0\q[0:0]</span><span class="w"> </span><span class="nv">\q</span><span class="w"></span>
<span class="linenos"> 3</span><span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="nv">\enable</span><span class="w"></span>
<span class="linenos"> 4</span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="m">1&#39;1</span><span class="w"></span>
<span class="linenos"> 5</span><span class="w">            </span><span class="k">assign</span><span class="w"> </span><span class="nv">$0\q[0:0]</span><span class="w"> </span><span class="nv">\d</span><span class="w"></span>
<span class="linenos"> 6</span><span class="w">        </span><span class="k">case</span><span class="w"></span>
<span class="linenos"> 7</span><span class="w">    </span><span class="k">end</span><span class="w"></span>
<span class="linenos"> 8</span><span class="w">    </span><span class="k">sync</span><span class="w"> </span><span class="k">posedge</span><span class="w"> </span><span class="nv">\clock</span><span class="w"></span>
<span class="linenos"> 9</span><span class="w">        </span><span class="k">update</span><span class="w"> </span><span class="nv">\q</span><span class="w"> </span><span class="nv">$0\q[0:0]</span><span class="w"></span>
<span class="linenos">10</span><span class="w">    </span><span class="k">sync</span><span class="w"> </span><span class="k">high</span><span class="w"> </span><span class="nv">\reset</span><span class="w"></span>
<span class="linenos">11</span><span class="w">        </span><span class="k">update</span><span class="w"> </span><span class="nv">\q</span><span class="w"> </span><span class="m">1&#39;0</span><span class="w"></span>
<span class="linenos">12</span><span class="k">end</span><span class="w"></span>
</pre></div>
</div>
<p>This pass has transformed the outer RTLIL::SwitchRule into a modified
RTLIL::SyncRule object for the \reset signal. Further processing converts the
RTLIL::Process into e.g. a d-type flip-flop with asynchronous reset and a
multiplexer for the enable signal:</p>
<div class="highlight-RTLIL notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">cell</span><span class="w"> </span><span class="nf">$adff</span><span class="w"> </span><span class="nf">$procdff$6</span><span class="w"></span>
<span class="linenos"> 2</span><span class="w">    </span><span class="k">parameter</span><span class="w"> </span><span class="nv">\ARST_POLARITY</span><span class="w"> </span><span class="m">1&#39;1</span><span class="w"></span>
<span class="linenos"> 3</span><span class="w">    </span><span class="k">parameter</span><span class="w"> </span><span class="nv">\ARST_VALUE</span><span class="w"> </span><span class="m">1&#39;0</span><span class="w"></span>
<span class="linenos"> 4</span><span class="w">    </span><span class="k">parameter</span><span class="w"> </span><span class="nv">\CLK_POLARITY</span><span class="w"> </span><span class="m">1&#39;1</span><span class="w"></span>
<span class="linenos"> 5</span><span class="w">    </span><span class="k">parameter</span><span class="w"> </span><span class="nv">\WIDTH</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
<span class="linenos"> 6</span><span class="w">    </span><span class="k">connect</span><span class="w"> </span><span class="nv">\ARST</span><span class="w"> </span><span class="nv">\reset</span><span class="w"></span>
<span class="linenos"> 7</span><span class="w">    </span><span class="k">connect</span><span class="w"> </span><span class="nv">\CLK</span><span class="w"> </span><span class="nv">\clock</span><span class="w"></span>
<span class="linenos"> 8</span><span class="w">    </span><span class="k">connect</span><span class="w"> </span><span class="nv">\D</span><span class="w"> </span><span class="nv">$0\q[0:0]</span><span class="w"></span>
<span class="linenos"> 9</span><span class="w">    </span><span class="k">connect</span><span class="w"> </span><span class="nv">\Q</span><span class="w"> </span><span class="nv">\q</span><span class="w"></span>
<span class="linenos">10</span><span class="k">end</span><span class="w"></span>
<span class="linenos">11</span><span class="k">cell</span><span class="w"> </span><span class="nf">$mux</span><span class="w"> </span><span class="nf">$procmux$3</span><span class="w"></span>
<span class="linenos">12</span><span class="w">    </span><span class="k">parameter</span><span class="w"> </span><span class="nv">\WIDTH</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
<span class="linenos">13</span><span class="w">    </span><span class="k">connect</span><span class="w"> </span><span class="nv">\A</span><span class="w"> </span><span class="nv">\q</span><span class="w"></span>
<span class="linenos">14</span><span class="w">    </span><span class="k">connect</span><span class="w"> </span><span class="nv">\B</span><span class="w"> </span><span class="nv">\d</span><span class="w"></span>
<span class="linenos">15</span><span class="w">    </span><span class="k">connect</span><span class="w"> </span><span class="nv">\S</span><span class="w"> </span><span class="nv">\enable</span><span class="w"></span>
<span class="linenos">16</span><span class="w">    </span><span class="k">connect</span><span class="w"> </span><span class="nv">\Y</span><span class="w"> </span><span class="nv">$0\q[0:0]</span><span class="w"></span>
<span class="linenos">17</span><span class="k">end</span><span class="w"></span>
</pre></div>
</div>
<p>Different combinations of passes may yield different results. Note that $adff
and $mux are internal cell types that still need to be mapped to cell types from
the target cell library.</p>
<p>Some passes refuse to operate on modules that still contain RTLIL::Process
objects as the presence of these objects in a module increases the complexity.
Therefore the passes to translate processes to a netlist of cells are usually
called early in a synthesis script. The proc pass calls a series of other passes
that together perform this conversion in a way that is suitable for most
synthesis tasks.</p>
</section>
<section id="rtlil-memory">
<span id="sec-rtlil-memory"></span><h3><span class="section-number">4.2.6. </span>RTLIL::Memory<a class="headerlink" href="#rtlil-memory" title="Permalink to this heading">¶</a></h3>
<p>For every array (memory) in the HDL code an RTLIL::Memory object is created. A
memory object has the following properties:</p>
<ul class="simple">
<li><p>The memory name</p></li>
<li><p>A list of attributes</p></li>
<li><p>The width of an addressable word</p></li>
<li><p>The size of the memory in number of words</p></li>
</ul>
<p>All read accesses to the memory are transformed to $memrd cells and all write
accesses to $memwr cells by the language frontend. These cells consist of
independent read- and write-ports to the memory. Memory initialization is
transformed to $meminit cells by the language frontend. The <code class="docutils literal notranslate"><span class="pre">\MEMID</span></code> parameter
on these cells is used to link them together and to the RTLIL::Memory object
they belong to.</p>
<p>The rationale behind using separate cells for the individual ports versus
creating a large multiport memory cell right in the language frontend is that
the separate $memrd and $memwr cells can be consolidated using resource sharing.
As resource sharing is a non-trivial optimization problem where different
synthesis tasks can have different requirements it lends itself to do the
optimisation in separate passes and merge the RTLIL::Memory objects and $memrd
and $memwr cells to multiport memory blocks after resource sharing is completed.</p>
<p>The memory pass performs this conversion and can (depending on the options
passed to it) transform the memories directly to d-type flip-flops and address
logic or yield multiport memory blocks (represented using $mem cells).</p>
<p>See <a class="reference internal" href="CHAPTER_CellLib.html#sec-memcells"><span class="std std-numref">Sec. 5.1.5</span></a> for details about the memory cell types.</p>
</section>
</section>
<section id="command-interface-and-synthesis-scripts">
<h2><span class="section-number">4.3. </span>Command interface and synthesis scripts<a class="headerlink" href="#command-interface-and-synthesis-scripts" title="Permalink to this heading">¶</a></h2>
<p>Yosys reads and processes commands from synthesis scripts, command line
arguments and an interactive command prompt. Yosys commands consist of a command
name and an optional whitespace separated list of arguments. Commands are
terminated using the newline character or a semicolon (;). Empty lines and lines
starting with the hash sign (#) are ignored. See <a class="reference internal" href="CHAPTER_Approach.html#sec-typusecase"><span class="std std-numref">Sec. 3.3</span></a> for an example synthesis script.</p>
<p>The command help can be used to access the command reference manual.</p>
<p>Most commands can operate not only on the entire design but also specifically on
selected parts of the design. For example the command dump will print all
selected objects in the current design while dump foobar will only print the
module foobar and dump * will print the entire design regardless of the current
selection.</p>
<div class="highlight-yoscrypt notranslate"><div class="highlight"><pre><span></span><span class="k">dump</span><span class="w"> </span><span class="c">*</span><span class="o">/</span><span class="kt">t:</span><span class="nb">$add</span><span class="w"> </span><span class="kt">%x</span><span class="o">:+[</span><span class="n">A</span><span class="o">]</span><span class="w"> </span><span class="c">\*</span><span class="o">/</span><span class="kt">w:</span><span class="c">\*</span><span class="w"> </span><span class="kt">%i</span><span class="w"></span>
</pre></div>
</div>
<p>The selection mechanism is very powerful. For example the command above will
print all wires that are connected to the <code class="docutils literal notranslate"><span class="pre">\A</span></code> port of a <code class="docutils literal notranslate"><span class="pre">$add</span></code> cell.
Detailed documentation of the select framework can be found in the command
reference for the <code class="docutils literal notranslate"><span class="pre">select</span></code> command.</p>
</section>
<section id="source-tree-and-build-system">
<h2><span class="section-number">4.4. </span>Source tree and build system<a class="headerlink" href="#source-tree-and-build-system" title="Permalink to this heading">¶</a></h2>
<p>The Yosys source tree is organized into the following top-level
directories:</p>
<ul>
<li><div class="line-block">
<div class="line">backends/</div>
<div class="line">This directory contains a subdirectory for each of the backend modules.</div>
</div>
</li>
<li><div class="line-block">
<div class="line">frontends/</div>
<div class="line">This directory contains a subdirectory for each of the frontend modules.</div>
</div>
</li>
<li><div class="line-block">
<div class="line">kernel/</div>
<div class="line">This directory contains all the core functionality of Yosys. This includes
the functions and definitions for working with the RTLIL data structures
(rtlil.h and rtlil.cc), the main() function (driver.cc), the internal
framework for generating log messages (log.h and log.cc), the internal
framework for registering and calling passes (register.h and register.cc),
some core commands that are not really passes (select.cc, show.cc, …) and a
couple of other small utility libraries.</div>
</div>
</li>
<li><div class="line-block">
<div class="line">passes/</div>
<div class="line">This directory contains a subdirectory for each pass or group of passes.
For example as of this writing the directory passes/opt/ contains the code
for seven passes: opt, opt_expr, opt_muxtree, opt_reduce, opt_rmdff,
opt_rmunused and opt_merge.</div>
</div>
</li>
<li><div class="line-block">
<div class="line">techlibs/</div>
<div class="line">This directory contains simulation models and standard implementations for
the cells from the internal cell library.</div>
</div>
</li>
<li><div class="line-block">
<div class="line">tests/</div>
<div class="line">This directory contains a couple of test cases. Most of the smaller tests
are executed automatically when make test is called. The larger tests must
be executed manually. Most of the larger tests require downloading external
HDL source code and/or external tools. The tests range from comparing
simulation results of the synthesized design to the original sources to
logic equivalence checking of entire CPU cores.</div>
</div>
</li>
</ul>
<p>The top-level Makefile includes frontends/*/Makefile.inc,
passes/*/Makefile.inc and backends/*/Makefile.inc. So when extending Yosys it
is enough to create a new directory in frontends/, passes/ or backends/ with
your sources and a Makefile.inc. The Yosys kernel automatically detects all
commands linked with Yosys. So it is not needed to add additional commands to a
central list of commands.</p>
<p>Good starting points for reading example source code to learn how to write
passes are passes/opt/opt_rmdff.cc and passes/opt/opt_merge.cc.</p>
<p>See the top-level README file for a quick Getting Started guide and build
instructions. The Yosys build is based solely on Makefiles.</p>
<p>Users of the Qt Creator IDE can generate a QT Creator project file using make
qtcreator. Users of the Eclipse IDE can use the “Makefile Project with Existing
Code” project type in the Eclipse “New Project” dialog (only available after the
CDT plugin has been installed) to create an Eclipse project in order to
programming extensions to Yosys or just browse the Yosys code base.</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id2" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>The syntax 1’1 in the RTLIL code specifies a constant with a length of one
bit (the first “1”), and this bit is a one (the second “1”).</p>
</aside>
</aside>
</section>
</section>


          </div>
          <div class="page-nav">
            <div class="inner"><ul class="page-nav">
  <li class="prev">
    <a href="CHAPTER_Approach.html"
       title="previous chapter">← <span class="section-number">3. </span>Approach</a>
  </li>
  <li class="next">
    <a href="CHAPTER_CellLib.html"
       title="next chapter"><span class="section-number">5. </span>Internal cell library →</a>
  </li>
</ul><div class="footer" role="contentinfo">
      &#169; Copyright 2022 YosysHQ GmbH.
    <br>
    Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.3.0 with <a href="https://github.com/schettino72/sphinx_press_theme">Press Theme</a> 0.8.0.
</div>
            </div>
          </div>
      </page>
    </div></div>
    
    
  </body>
</html>